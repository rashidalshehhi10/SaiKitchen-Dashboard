<!DOCTYPE html>
<!--
Template Name: Metronic - Bootstrap 4 HTML, React, Angular 11 & VueJS Admin Dashboard Theme
Author: KeenThemes
Website: http://www.keenthemes.com/
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Dribbble: www.dribbble.com/keenthemes
Like: www.facebook.com/keenthemes
Purchase: https://1.envato.market/EA4JP
Renew Support: https://1.envato.market/EA4JP
License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->
<html lang="en">
  <!--begin::Head-->

  <head>
    <base href="" />
    <meta charset="utf-8" />
    <title>Sai Kitchen & Wardrobes</title>
    <meta name="description" content="Sai Kitchen & Wardrobes" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link rel="canonical" href="https://keenthemes.com/metronic" />
    <!--begin::Fonts-->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700"
    />
    <!--end::Fonts-->
    <!--begin::Page Vendors Styles(used by this page)-->
    <link
      href="assets/plugins/custom/fullcalendar/fullcalendar.bundle.css"
      rel="stylesheet"
      type="text/css"
    />
    <!--end::Page Vendors Styles-->
    <!--begin::Global Theme Styles(used by all pages)-->
    <link
      href="assets/plugins/global/plugins.bundle.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="assets/plugins/custom/prismjs/prismjs.bundle.css"
      rel="stylesheet"
      type="text/css"
    />
    <link href="assets/css/style.bundle.css" rel="stylesheet" type="text/css" />
    <!--end::Global Theme Styles-->
    <!--begin::Layout Themes(used by all pages)-->
    <link
      href="assets/css/themes/layout/header/base/light.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="assets/css/themes/layout/header/menu/light.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="assets/css/themes/layout/brand/dark.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="assets/css/themes/layout/aside/dark.css"
      rel="stylesheet"
      type="text/css"
    />
    <!--end::Layout Themes-->
    <link rel="shortcut icon" href="assets/media/logos/favicon.ico" />

    <!--PWA-->
    <link rel="manifest" href="manifest.json" />
    <!-- ios support -->
    <link rel="apple-touch-icon" href="assets/media/logos/icon-72x72.png" />
    <link rel="apple-touch-icon" href="assets/media/logos/icon-96x96.png" />
    <link rel="apple-touch-icon" href="assets/media/logos/icon-128x128.png" />
    <link rel="apple-touch-icon" href="assets/media/logos/icon-144x144.png" />
    <link rel="apple-touch-icon" href="assets/media/logos/icon-152x152.png" />
    <link rel="apple-touch-icon" href="assets/media/logos/icon-192x192.png" />
    <link rel="apple-touch-icon" href="assets/media/logos/icon-384x384.png" />
    <link rel="apple-touch-icon" href="assets/media/logos/icon-512x512.png" />
    <meta name="apple-mobile-web-app-status-bar" content="#db4938" />
    <meta name="theme-color" content="#db4938" />
    <!--End:PWA-->
    <style>
      .divico{width: 60px;border-radius: 5px;background-color: #f0e8ff;padding: 5px;margin-right: 5px;margin-bottom: 5px;}
  </style>
        <style>

          .se-pre-con {
             padding-left: 9rem;
              width: 60px;
              height: 60px;
              z-index: 9999;
              background: url(assets/media/gif/load.gif) center no-repeat #fff;
          }
                </style>
  </head>
  <!--end::Head-->
  <!--begin::Body-->

  <body
    id="kt_body"
    class="
      header-fixed header-mobile-fixed
      subheader-enabled subheader-fixed
      aside-enabled aside-fixed aside-minimize-hoverable
      page-loading
    "
  >
    <!--begin::Main-->
    <!--begin::Header Mobile-->
    <div
      id="kt_header_mobile"
      class="header-mobile align-items-center header-mobile-fixed"
    ></div>
    
    <!--end::Header Mobile-->
    <div class="d-flex flex-column flex-root">
      <!--begin::Page-->
      <div class="d-flex flex-row flex-column-fluid page">
        <!--begin::Aside-->
        <div
          class="aside aside-left aside-fixed d-flex flex-column flex-row-auto"
          id="kt_aside"
        ></div>
        <!--end::Aside-->
        <!--begin::Wrapper-->
        <div class="d-flex flex-column flex-row-fluid wrapper" id="kt_wrapper">
          <!--begin::Header-->
          <div id="kt_header" class="header header-fixed"></div>
          <!--end::Header-->
          <!--begin::Content-->
          <div
            class="content d-flex flex-column flex-column-fluid"
            id="kt_content"
          >
            <!--begin::Subheader-->

            <!--end::Subheader-->
            <!--begin::Entry-->
            <div class="d-flex flex-column-fluid">
              <!--begin::Container-->
              <div class="container">
                <!--begin::CustomBody-->
                <!--begin::Dashboard-->
                <!--begin::Row-->

                <!--begin::Card-->
                <div class="card card-custom">
                  <div class="card-header">
                    <div class="card-title">
                      <span class="card-icon">
                        <i class="flaticon2-delivery-package text-primary"></i>
                      </span>
                      <h3 class="card-label">PLO</h3>
                    </div>
                    <div class="card-toolbar" id="btnNewInquiry">
                      <!-- <div class="dropdown dropdown-inline mr-2">
											<button type="button"
												class="btn btn-light-primary font-weight-bolder dropdown-toggle"
												data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
												<span class="svg-icon svg-icon-md">
													<svg xmlns="http://www.w3.org/2000/svg"
														xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
														height="24px" viewBox="0 0 24 24" version="1.1">
														<g stroke="none" stroke-width="1" fill="none"
															fill-rule="evenodd">
															<rect x="0" y="0" width="24" height="24" />
															<path
																d="M3,16 L5,16 C5.55228475,16 6,15.5522847 6,15 C6,14.4477153 5.55228475,14 5,14 L3,14 L3,12 L5,12 C5.55228475,12 6,11.5522847 6,11 C6,10.4477153 5.55228475,10 5,10 L3,10 L3,8 L5,8 C5.55228475,8 6,7.55228475 6,7 C6,6.44771525 5.55228475,6 5,6 L3,6 L3,4 C3,3.44771525 3.44771525,3 4,3 L10,3 C10.5522847,3 11,3.44771525 11,4 L11,19 C11,19.5522847 10.5522847,20 10,20 L4,20 C3.44771525,20 3,19.5522847 3,19 L3,16 Z"
																fill="#000000" opacity="0.3" />
															<path
																d="M16,3 L19,3 C20.1045695,3 21,3.8954305 21,5 L21,15.2485298 C21,15.7329761 20.8241635,16.200956 20.5051534,16.565539 L17.8762883,19.5699562 C17.6944473,19.7777745 17.378566,19.7988332 17.1707477,19.6169922 C17.1540423,19.602375 17.1383289,19.5866616 17.1237117,19.5699562 L14.4948466,16.565539 C14.1758365,16.200956 14,15.7329761 14,15.2485298 L14,5 C14,3.8954305 14.8954305,3 16,3 Z"
																fill="#000000" />
														</g>
													</svg>
													</span>Export</button>
											<div class="dropdown-menu dropdown-menu-sm dropdown-menu-right">
												<ul class="navi flex-column navi-hover py-2">
													<li
														class="navi-header font-weight-bolder text-uppercase font-size-sm text-primary pb-2">
														Choose an option:</li>
													<li class="navi-item">
														<a href="#" class="navi-link">
															<span class="navi-icon">
																<i class="la la-print"></i>
															</span>
															<span class="navi-text">Print</span>
														</a>
													</li>
													<li class="navi-item">
														<a href="#" class="navi-link">
															<span class="navi-icon">
																<i class="la la-copy"></i>
															</span>
															<span class="navi-text">Copy</span>
														</a>
													</li>
													<li class="navi-item">
														<a href="#" class="navi-link">
															<span class="navi-icon">
																<i class="la la-file-excel-o"></i>
															</span>
															<span class="navi-text">Excel</span>
														</a>
													</li>
													<li class="navi-item">
														<a href="#" class="navi-link">
															<span class="navi-icon">
																<i class="la la-file-text-o"></i>
															</span>
															<span class="navi-text">CSV</span>
														</a>
													</li>
													<li class="navi-item">
														<a href="#" class="navi-link">
															<span class="navi-icon">
																<i class="la la-file-pdf-o"></i>
															</span>
															<span class="navi-text">PDF</span>
														</a>
													</li>
												</ul>
											</div>
										</div> -->
                      <!-- <a href="addinquiry.html" class="btn btn-primary font-weight-bolder">
											<span class="svg-icon svg-icon-md">
												<svg xmlns="http://www.w3.org/2000/svg"
													xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
													height="24px" viewBox="0 0 24 24" version="1.1">
													<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
														<rect x="0" y="0" width="24" height="24" />
														<circle fill="#000000" cx="9" cy="15" r="6" />
														<path
															d="M8.8012943,7.00241953 C9.83837775,5.20768121 11.7781543,4 14,4 C17.3137085,4 20,6.6862915 20,10 C20,12.2218457 18.7923188,14.1616223 16.9975805,15.1987057 C16.9991904,15.1326658 17,15.0664274 17,15 C17,10.581722 13.418278,7 9,7 C8.93357256,7 8.86733422,7.00080962 8.8012943,7.00241953 Z"
															fill="#000000" opacity="0.3" />
													</g>
												</svg>
												</span>New Inquiry</a> -->
                    </div>
                  </div>
                  <div class="card-body">
                    <!--begin: Search Form-->
                    <form class="mb-15">
                      <div class="row mb-6">
                        <div class="col-lg-3 mb-lg-0 mb-6">
                          <label>ID:</label>
                          <input
                            type="text"
                            class="form-control datatable-input"
                            placeholder="E.g: 4590"
                            data-col-index="0"
                          />
                        </div>

                        <div class="col-lg-3 mb-lg-0 mb-6">
                          <label>Code:</label>
                          <input
                            type="text"
                            class="form-control datatable-input"
                            placeholder="E.g: 135"
                            data-col-index="1"
                          />
                        </div>
                        <div class="col-lg-3 mb-lg-0 mb-6">
                          <label>QuotationNo:</label>
                          <input
                            type="text"
                            class="form-control datatable-input"
                            placeholder="E.g: 135"
                            data-col-index="12"
                          />
                        </div>
                        <div class="col-lg-3 mb-lg-0 mb-6">
                          <label>Status:</label>
                          <select
                            class="form-control datatable-input"
                            data-col-index="2"
                          >
                            <option value="">Select</option>
                          </select>
                        </div>

                        <div class="col-lg-3 mb-lg-0 mb-6">
                          <label>Workscope:</label>
                          <input
                            type="text"
                            class="form-control datatable-input"
                            placeholder="E.g: Kitchen"
                            data-col-index="3"
                          />
                        </div>
                        <!-- <div class="col-lg-3 mb-lg-0 mb-6">
													<label>Status:</label>
													<input type="text" class="form-control datatable-input" placeholder="E.g: test" data-col-index="1" />
												</div> -->
                      </div>
                      <div class="row mb-8">
                        <div class="col-lg-3 mb-lg-0 mb-6">
                          <label>Start Date:</label>
                          <div
                            class="input-daterange input-group"
                            id="kt_datepicker"
                          >
                            <input
                              type="text"
                              class="form-control datatable-input"
                              name="start"
                              placeholder="From"
                              data-col-index="16"
                            />
                            <div class="input-group-append">
                              <span class="input-group-text">
                                <i class="la la-ellipsis-h"></i>
                              </span>
                            </div>
                            <input
                              type="text"
                              class="form-control datatable-input"
                              name="end"
                              placeholder="To"
                              data-col-index="16"
                            />
                          </div>
                        </div>

                        <div class="col-lg-3 mb-lg-0 mb-6">
                          <label>Customer Code:</label>
                          <input
                            type="text"
                            class="form-control datatable-input"
                            placeholder="E.g: John"
                            data-col-index="8"
                          />
                        </div>
                        <div class="col-lg-3 mb-lg-0 mb-6">
                          <label>Customer Name:</label>
                          <input
                            type="text"
                            class="form-control datatable-input"
                            placeholder="E.g: John"
                            data-col-index="9"
                          />
                        </div>
                        <div class="col-lg-3 mb-lg-0 mb-6">
                          <label>Customer Contact:</label>
                          <input
                            type="text"
                            class="form-control datatable-input"
                            placeholder="E.g: John"
                            data-col-index="10"
                          />
                        </div>
                      </div>
                      <div class="row mb-8">
                        <div class="col-lg-3 mb-lg-0 mb-6">
                          <label>Building Address:</label>
                          <input
                            type="text"
                            class="form-control datatable-input"
                            placeholder="E.g: John"
                            data-col-index="11"
                          />
                        </div>
                      </div>

                      <!-- <div class="col-lg-3 mb-lg-0 mb-6">
													<label>Country:</label>
													<select class="form-control datatable-input" data-col-index="5">
														<option value="">Select</option>
													</select>
												</div> -->
                      <!-- <div class="col-lg-3 mb-lg-0 mb-6">
													<label>Agent:</label>
													<input type="text" class="form-control datatable-input" placeholder="Agent ID or name" data-col-index="6" />
												</div> -->

                      <!-- <div class="row mb-8">
												<div class="col-lg-3 mb-lg-0 mb-6">
													<label>Inquiry Start Date:</label>
													<div class="input-daterange input-group" id="kt_datepicker">
														<input type="text" class="form-control datatable-input" name="start" placeholder="From" data-col-index="7" />
														<div class="input-group-append">
															<span class="input-group-text">
																<i class="la la-ellipsis-h"></i>
															</span>
														</div>
														<input type="text" class="form-control datatable-input" name="end" placeholder="To" data-col-index="7" />
													</div>
												</div>
												<div class="col-lg-3 mb-lg-0 mb-6">
													<label>Type:</label>
													<select class="form-control datatable-input" data-col-index="8">
														<option value="">Select</option>
													</select>
												</div>
											</div> -->
                      <div class="row mt-8">
                        <div class="col-lg-12">
                          <button
                            class="btn btn-primary btn-primary--icon"
                            id="kt_search"
                          >
                            <span>
                              <i class="la la-search"></i>
                              <span>Search</span>
                            </span></button
                          >&#160;&#160;
                          <button
                            class="btn btn-secondary btn-secondary--icon"
                            id="kt_reset"
                          >
                            <span>
                              <i class="la la-close"></i>
                              <span>Reset</span>
                            </span>
                          </button>
                        </div>
                      </div>
                    </form>
                    <!--begin: Datatable-->
                    <!--begin: Datatable-->
                    <table
                      class="table table-bordered table-hover table-checkable"
                      id="kt_datatable"
                    >
                      <thead>
                        <tr>
                          <th>ID</th>
                          <th>Code</th>
                          <th>QuotationNo</th>
                          <th>Status</th>
                          <th>Workscopes</th>
                          <th>Customer Code</th>
                          <th>Customer Name</th>
                          <th>Customer Contact</th>
                          <th>Customer Email</th>
                          <th>Building Address</th>
                          <th>Building Type Of Unit</th>
                          <th>Building Condition</th>
                          <th>Building Floor</th>
                          <th>Building Re-construction</th>
                          <th>Building Occupied</th>
                          <th>Description</th>
                          <th>Comment</th>
                          <th>Start Date</th>
                          <th>End Date</th>
                          <th>Added By</th>
                          <th>Actions</th>
                        </tr>
                      </thead>
                    </table>
                    <!--end: Datatable-->
                  </div>
                </div>
                <!--end::Card-->
                <!--end::Row-->
                <!--end::Dashboard-->
                <!--end::CustomBody-->
              </div>
              <!--end::Container-->
            </div>
            <!--end::Entry-->
          </div>
          <!--end::Content-->
          <!--begin::Footer-->
          <div
            class="footer bg-white py-4 d-flex flex-lg-column"
            id="kt_footer"
          ></div>
          <!--end::Footer-->
        </div>
        <!--end::Wrapper-->
      </div>
      <!--end::Page-->
    </div>
    <!--end::Main-->
    <!-- begin::User Panel-->
    <div id="kt_quick_user" class="offcanvas offcanvas-right p-10"></div>
    <!-- end::User Panel-->

    <!--begin::Quick Panel-->
    <div id="kt_quick_panel" class="offcanvas offcanvas-right pt-5 pb-10"></div>
    <!--end::Quick Panel-->
    <!--begin::Chat Panel-->
    <div
      class="modal fade"
      id="AuditApprove"
      data-backdrop="static"
      tabindex="-1"
      role="dialog"
      aria-labelledby="staticBackdrop"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
        <div class="modal-content">
          <form
            class="form"
            id="kt_approve_inquiry"
            action=""
            name="approveinquiryform"
          >
            <input id="inquiryId" type="hidden" value="0" />
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Add LPO</h5>
              <button
                id="xclose"
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <i aria-hidden="true" class="ki ki-close"></i>
              </button>
            </div>
            <div class="modal-body">
              <div id="WorkscopesDiv" style="padding-left: 20px;">
                <div class="form-group row" id="workscope">
                  <label class="font-size-h4  text-dark" style="padding: bottom 10px;">Purchase Requests Files</label>
                  <div class="row" id="beforeWoodenFiles">
                   
                  </div>
                  <div class="row" id="beforeWooden">

                  </div>
                  <input type="hidden" id="worckscopeId" value="" />
                  <input type="hidden" value="0" id="HideWoodenLength" />
                <div class="input-group"   >
                      <label class="font-size-h6 font-weight-bolder text-dark" style="padding-left:5px;width:100px;">ADD LPO</label>
                      <a type="button" style="margin-top:3px;" onclick="addWooden(elecount++)" class="btn-floating light-green"><i class="la la-plus-circle"></i></a>
                  </div>
                  <div class="row" id="Wooden"></div>
                  
                  </div>
             </div>
              <div class="form-group row">

              <div class="form-group row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span id="alert" style="color: red"></span>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                id="kt_close_inquiry_button"
                class="btn btn-light-primary font-weight-bold"
                data-dismiss="modal"
              >
                Close
              </button>
              <button
                type="button"
                id="kt_approve_inquiry_button"
                class="btn btn-primary font-weight-bold"
              >
                Approve
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="AuditReject"
      data-backdrop="static"
      tabindex="-1"
      role="dialog"
      aria-labelledby="staticBackdrop"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <form
            class="form"
            id="kt_reject_inquiry"
            action=""
            name="rejectinquiryform"
          >
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">
                Job Order Audit Reject
              </h5>
              <button
                id="rclose"
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <i aria-hidden="true" class="ki ki-close"></i>
              </button>
            </div>
            <div class="modal-body">
              <div class="form-group row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <label class="font-size-h6 font-weight-bolder text-dark"
                    >Reason</label
                  >
                  <div class="input-group">
                    <input
                      type="text"
                      name="RejectComment"
                      id="RejectComment"
                      class="form-control"
                      value=""
                      placeholder=""
                    />
                  </div>
                </div>
              </div>
              <div class="form-group row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                  <span id="ralert" style="color: red"></span>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                id="kt_close_reject_inquiry_button"
                class="btn btn-light-primary font-weight-bold"
                data-dismiss="modal"
              >
                Close
              </button>
              <button
                type="submit"
                id="kt_reject_inquiry_button"
                class="btn btn-primary font-weight-bold"
              >
                Reject
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <!--end::Chat Panel-->
    <!--begin::Scrolltop-->
    <div id="kt_scrolltop" class="scrolltop"></div>
    <!--end::Scrolltop-->
    <!-- <script src="assets/js/pages/sai-kitchen/layout.js" type="module"></script> -->
    <script>
      var HOST_URL =
        "https://preview.keenthemes.com/metronic/theme/html/tools/preview";
    </script>
    <!--begin::Global Config(global config for global JS scripts)-->
    <script>
      var KTAppSettings = {
        breakpoints: {
          sm: 576,
          md: 768,
          lg: 992,
          xl: 1200,
          xxl: 1400,
        },
        colors: {
          theme: {
            base: {
              white: "#ffffff",
              primary: "#3699FF",
              secondary: "#E5EAEE",
              success: "#1BC5BD",
              info: "#8950FC",
              warning: "#FFA800",
              danger: "#F64E60",
              light: "#E4E6EF",
              dark: "#181C32",
            },
            light: {
              white: "#ffffff",
              primary: "#E1F0FF",
              secondary: "#EBEDF3",
              success: "#C9F7F5",
              info: "#EEE5FF",
              warning: "#FFF4DE",
              danger: "#FFE2E5",
              light: "#F3F6F9",
              dark: "#D6D6E0",
            },
            inverse: {
              white: "#ffffff",
              primary: "#ffffff",
              secondary: "#3F4254",
              success: "#ffffff",
              info: "#ffffff",
              warning: "#ffffff",
              danger: "#ffffff",
              light: "#464E5F",
              dark: "#ffffff",
            },
          },
          gray: {
            "gray-100": "#F3F6F9",
            "gray-200": "#EBEDF3",
            "gray-300": "#E4E6EF",
            "gray-400": "#D1D3E0",
            "gray-500": "#B5B5C3",
            "gray-600": "#7E8299",
            "gray-700": "#5E6278",
            "gray-800": "#3F4254",
            "gray-900": "#181C32",
          },
        },
        "font-family": "Poppins",
      };
    </script>
    <!--end::Global Config-->
    <!--begin::Global Theme Bundle(used by all pages)-->
    <script src="assets/plugins/global/plugins.bundle.js"></script>
    <script src="assets/plugins/custom/prismjs/prismjs.bundle.js"></script>
    <script src="assets/js/scripts.bundle.js"></script>
    <!--end::Global Theme Bundle-->
    <!--begin::Page Vendors(used by this page)-->
    <script src="assets/plugins/custom/fullcalendar/fullcalendar.bundle.js"></script>
    <!--end::Page Vendors-->
    <!--begin::Page Scripts(used by this page)-->
    <script src="assets/js/pages/widgets.js"></script>
    <!--end::Page Scripts-->

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-messaging.js"></script>
    <script
      src="assets/js/pages/sai-kitchen/firebase.js"
      type="module"
    ></script>

    <script src="assets/js/pages/sai-kitchen/base.js" type="module"></script>

    <!--begin::Page Vendors(used by this page)-->
    <script src="assets/plugins/custom/datatables/datatables.bundle.js"></script>
    <!--end::Page Vendors-->
    <!--begin::Page Scripts(used by this page)-->
    <script
      src="assets/js/pages/sai-kitchen/purchase.js"
      type="module"
    ></script>
    <!--end::Page Scripts-->

    <!--begin::Page Scripts(used by this page)-->
    <script src="assets/js/pages/crud/datatables/extensions/buttons.js"></script>
    <!--end::Page Scripts-->

    <!--begin::Page Scripts(used by this page)-->
    <script src="assets/js/pages/sai-kitchen/dropdown.js"></script>

    <script
      src="assets/js/pages/sai-kitchen/inquirytagify.js"
      type="Module"
    ></script>
    <!--end::Page Scripts-->

    <!--begin::Page Scripts(used by this page)-->
    <script src="assets/js/pages/crud/forms/widgets/bootstrap-datetimepicker.js"></script>
    <!--end::Page Scripts-->
    <script
      src="assets/js/pages/sai-kitchen/dropzone.js"
      type="Module"
    ></script>
    <script>
      var baseURL = "https://backendsaikitchen.azurewebsites.net/Api";

      // import { baseURL } from '/assets/js/pages/sai-kitchen/constant.js'

      if (Notification.permission === "denied") {
        Swal.fire({
          title: "Allow Notification?",
          text: "You won't be able to revert this!",
          icon: "warning",
          showCancelButton: true,
          confirmButtonColor: "#3085d6",
          cancelButtonColor: "#d33",
          confirmButtonText: "Ok!",
        }).then((result) => {
          if (result.isConfirmed) {
            notifyMe();
          }
        });
      }

      function notifyMe() {
        // Let's check if the browser supports notifications
        if (!("Notification" in window)) {
          alert("This browser does not support desktop notification");
        }

        // Let's check whether notification permissions have already been granted
        else if (Notification.permission === "granted") {
          // If it's okay let's create a notification
          var notification = new Notification("Hi there!");
          registerServiceWorker();
        }

        // Otherwise, we need to ask the user for permission
        else if (Notification.permission !== "denied") {
          Notification.requestPermission().then(function (permission) {
            // If the user accepts, let's create a notification
            if (permission === "granted") {
              var notification = new Notification("Hi there!");
            }
          });
        }

        // At last, if the user has denied notifications, and you
        // want to be respectful there is no need to bother them any more.
      }

      function logoutUser(user) {
        // alert('hi ' + branchRoleId);
        var users = JSON.parse(user);

        var data = JSON.stringify({
          userId: users.data.userId,
        });
        localStorage.removeItem("user");
        localStorage.removeItem("permission");
        $.ajax({
          type: "Post",
          url: baseURL + "/User/LogoutUser",
          headers: {
            "Content-Type": "application/json",
            userId: user.data.userId,
            userToken: user.data.userToken,
            userRoleId: user.data.userRoles[0].userRoleId,
            branchId: user.data.userRoles[0].branchId,
            branchRoleId: user.data.userRoles[0].branchRoleId,
            "Access-Control-Allow-Origin": "*",
          },
          data: data,
          success: function (response) {
            console.log(response);
            if (response.isError == false) {
              // sessionStorage.setItem('user', JSON.stringify(response));
              location.reload();
            } else {
              Swal.fire({
                text: response.errorMessage,
                icon: "error",
                buttonsStyling: false,
                confirmButtonText: "Ok, got it!",
                customClass: {
                  confirmButton: "btn font-weight-bold btn-light-primary",
                },
              }).then(function () {
                KTUtil.scrollTop();
              });
            }
          },
          error: function (XMLHttpRequest, textStatus, errorThrown) {
            alert(textStatus);
          },
        });
      }
    </script>
    <script>
      var filearry = new Array();
      var Wonumber=[];
      var elecount=0;
      function addComponent(inquiryId) {
        document.getElementById("inquiryId").value = inquiryId;
        $('.divContainer').remove();
        $('.divContainerFiles').remove();
        elecount=0;
        filearry=[];
      }
      function removeA(arr) {
            var what, a = arguments, L = a.length, ax;
            while (L > 1 && arr.length) {
                what = a[--L];
                while ((ax= arr.indexOf(what)) !== -1) {
                    arr.splice(ax, 1);
                }
            }
            return arr;
        }
      
      function addWooden(i){
            $(document).ready(function() {
              $('#kt_datetimepicker_'+i).datetimepicker({
            // useCurrent: true,
           minDate: new Date().getDate(),

            });
            let measurementFile =new Array();
        $('#kt_dropzone_'+i).dropzone({
            url: baseURL+"/File/UploadFile", // Set the url for your upload script location
           type: "Head",
           headers : {
               'Access-Control-Allow-Origin': '*',
           },
           paramName: "file"+i, // The name that will be used to transfer the file
           maxFiles: 150,
           maxFilesize: 30000, // MB
           timeout: 600000,
           addRemoveLinks: true,
           removedfile:function(file) {
            var fileuploded = file.previewElement.querySelector("[data-dz-name]");
            var fileurl ='';
            var filearr = fileuploded.innerHTML.split(".");
            if(filearr.length > 1){
                fileurl = "/File/DeleteFileFromBlob?fileName=";
            }else{
                fileurl = "/File/DeleteVideo?VideoId=";
            }
            $.ajax({
                type:"post",
                url:baseURL+fileurl+fileuploded.innerHTML,
                cache:false,
                success: function(){
                    removeA(measurementFile, fileuploded.innerHTML);
                    filearry[i] = measurementFile;
                    file.previewElement.remove();
                },
                error: function(XMLHttpRequest, textStatus, errorThrown){
                    console.log("Error");
            
                }
            });
           },
     
           acceptedFiles: "image/*,application/pdf",
           
          init: function() {
       
           },
           success: function(file, response){
            var fileuploded = file.previewElement.querySelector("[data-dz-name]");
            fileuploded.innerHTML = response.data.item1;
               // alert(response.data.item1);
               measurementFile.push(response.data.item1);
               filearry[i] = measurementFile;
           
           }
           
         });
            });
            var counter=0;
            var woodenString = '';
            
            woodenString = 
            `<div class="input-group divContainer"  id="Wooden`+i+`"  style="padding-bottom:2px;padding-left:10px;padding-bottom:20px;">
              <div  class="row col-lg-12 col-md-12 col-sm-12 ">
                
                <div   class="col">
                    <label style="padding-left:2px;">Expected Delivery Date</label>
                    <div class="input-group input-group-lg input-group-solid" >
											<div class="input-group date" id="kt_datetimepicker_`+i+`" data-target-input="nearest">
												<input type="text" id="date`+i+`" name="date`+i+`" class="form-control datetimepicker-input" placeholder="Select date &amp; time" data-target="#kt_datetimepicker_`+i+`">
												<div class="input-group-append" data-target="#kt_datetimepicker_`+i+`" data-toggle="datetimepicker">
													<span class="input-group-text">
														<i class="ki ki-calendar"></i>
													</span>
												</div>
											</div>
										</div>
                </div>
                <div   class="col">
                    <label style="padding-left:2px;">Amount</label>
                    <input type="text" id="Quantity`+i+`" style="width:15rem !important;"  class="form-control"  value="" placeholder="" >
                </div>            
                <div   class="col">
                    <label style="padding-left:2px;">Discription</label>
                    <textarea id="DescId`+i+`" class="form-control" rows="5"  placeholder=""></textarea>
                </div>  
                <div   class="col2">
                  <div class="col-lg-12 col-md-12 col-sm-12">
                            <div style="display:inline-block;" class="dropzone dropzone-default dropzone-success" id="kt_dropzone_`+i+`" name="measurementDrawing">
                                <div class="dropzone-msg dz-message needsclick">
                                    <h3 class="dropzone-msg-title">Drop files here or click to upload.</h3>
                                    <span class="dropzone-msg-desc"> pdf files are allowed for upload</span>
                                </div>
                            </div>
                  <div id="" style="padding-top:2rem;padding-left:2rem;display:inline-block;" >
                    
                    <span onclick="removewooden(`+i+`);" style="background-color: #f0e8ff;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                        <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                        <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                    </svg>
                    </span>
              
                 </div>
                    </div>
                    
                </div>
           
              </div>

              </div>  `;
              $('#Wooden').last().before(woodenString);
              document.getElementById("HideWoodenLength").value = i;
        }
        function removewooden (i){
     
        document.getElementById('Wooden'+i).remove();

        }
        
$('#kt_approve_inquiry_button').click(function () {
    var Wooden =[];
    for(var j=0;j<=elecount;j++){
      if(document.getElementById("Quantity"+j) != null){
       Wooden.push({
         "PurchaseOrderExpectedDeliveryDate":document.getElementById("date"+j).value,
         "purchaseOrderAmount":document.getElementById("Quantity"+j).value,
         "purchaseOrderDescription":document.getElementById("DescId"+j).value,
         "files":filearry[j]
       });
      }
    }
    var checklistdata = {
        "inquiryId":parseInt( document.getElementById('inquiryId').value),
         "lpo":Wooden,
      };

    const data = JSON.stringify(checklistdata);
    console.log(data);
    
    $.ajax({
        type: "Post",
        url: baseURL + '/Purchase/AddPurchaseOrder',
        headers: {
            'Content-Type': 'application/json',
            'Access-Control-Allow-Origin': '*',
        },
        data: data,
        success: function(response) {
            console.log(response);
 
            location.reload();
        },
        error: function(XMLHttpRequest, textStatus, errorThrown) {
            document.getElementById("alert").innerHTML ="An error occured please check if file attached";
        }
    });
});
var baseURL = "https://backendsaikitchen.azurewebsites.net/Api"
        var baseFileURL = "https://saikitchenstorage.blob.core.windows.net/files/"
function beforeWooden(inquiryId){


             
            // bb

            $.ajax({
                type: "Post",
                url: baseURL + '/Purchase/GetPurchaseRequestByInquiryId?inquiryId='+inquiryId,
                headers: {
                    'Content-Type': 'application/json',
                    'Access-Control-Allow-Origin': '*',
                },
                success: function(response) {
                    console.log(response);
                    if (response.isError == false) {
                      var files = '';
                      for(var j=0;j<response.data[0].files.length;j++){
                        switch(response.data[0].files[j].fileContentType) {
                        case "pdf":
                              files +=
                              '<div   class="col"><div id="icons" class="paddall" style="display: inline-block;width: 100%;">'+
                                '<div   class="divico">'+
                               '<a href="'+baseFileURL+response.data[0].files[j].fileUrl+'" target="_blank"> <img  src="/assets/media/svg/files/pdf.svg" style="width:100%;"></a>'+
                              '</div> </div> </div>';
                        break;
                        case "jpg":
                              files +=
                              '<div   class="col"><div id="icons" class="paddall" style="display: inline-block;width: 100%;">'+
                                '<div   class="divico">'+
                               '<a href="'+baseFileURL+response.data[0].files[j].fileUrl+'" target="_blank"> <img  src="/assets/media/svg/files/jpg.svg" style="width:100%;"></a>'+
                               '</div> </div> </div>';
                        break;
                        case "jpeg":
                              files +=
                             '<div   class="col"><div id="icons" class="paddall" style="display: inline-block;width: 100%;">'+
                                '<div   class="divico">'+
                               '<a href="'+baseFileURL+response.data[0].files[j].fileUrl+'" target="_blank"> <img  src="/assets/media/svg/files/jpg.svg" style="width:100%;"></a>'+
                               '</div> </div> </div>';
                             
                               
                        break;
                        default:
                             files +=
                            '<div   class="col"><div id="icons" class="paddall" style="display: inline-block;width: 100%;">'+
                                '<div   class="divico">'+
                             '<a href="'+baseFileURL+response.data[0].files[j].fileUrl+'" target="_blank"> <img  src="" style="width:100%;"></a>'+
                             '</div> </div> </div>';

                      }
                     }
              




                      woodenFilesString = 
                      `<div class="input-group divContainerFiles"  style="padding-bottom:30px;padding-left:12px;padding-bottom:30px;">
                        <div  class="row">
                          `+files+`
                        </div>
                        </div>`;

                       $('#beforeWoodenFiles').last().before(woodenFilesString);
                     // document.getElementById("beforeWoodenFiles").innerHTML += woodenFilesString;
                  
                  
                       
                    } else {
                        Swal.fire({
                            text: response.errorMessage,
                            icon: "error",
                            buttonsStyling: false,
                            confirmButtonText: "Ok, got it!",
                            customClass: {
                                confirmButton: "btn font-weight-bold btn-light-primary"
                            }
                        }).then(function() {
                            KTUtil.scrollTop();
                        });
                    }
                },
                error: function(XMLHttpRequest, textStatus, errorThrown) {
                    alert(textStatus);
                },
            });
            
            // bb





            $.ajax({
                type: "Post",
                url: baseURL + '/Purchase/GetPurchaseOrderedByInquiryId?inquiryId='+inquiryId,
                headers: {
                    'Content-Type': 'application/json',
                    'Access-Control-Allow-Origin': '*',
                },
                success: function(response) {
                    console.log(response);
                    if (response.isError == false) {
                    if(response.data.length==0)
                     // document.getElementById("workscope").innerHTML ='No Job Order Requests';
                    var woodenString = '';
                    for(var i=0;i<response.data.length;i++){
                     
                        var file ='';
                     for(var j=0;j<response.data[i].files.length;j++){
                        switch(response.data[i].files[j].fileContentType) {
                        case "pdf":
                              file +=
                              '<div   class="divico">'+
                               '<a href="'+baseFileURL+response.data[i].files[j].fileUrl+'" target="_blank"> <img  src="/assets/media/svg/files/pdf.svg" style="width:100%;"></a>'+
                              '</div>';
                        break;
                        case "jpg":
                              file +=
                              '<div   class="divico">'+
                               '<a href="'+baseFileURL+response.data[i].files[j].fileUrl+'" target="_blank"> <img  src="/assets/media/svg/files/jpg.svg" style="width:100%;"></a>'+
                              '</div>';
                        break;
                        case "jpeg":
                             file +=
                              '<div   class="divico">'+
                               '<a href="'+baseFileURL+response.data[i].files[j].fileUrl+'" target="_blank"> <img  src="/assets/media/svg/files/jpg.svg" style="width:100%;"></a>'+
                              '</div>';
                        break;
                        default:
                            file +=
                            '<div   class="divico">'+
                             '<a href="'+baseFileURL+response.data[i].files[j].fileUrl+'" target="_blank"> <img  src="" style="width:100%;"></a>'+
                            '</div>';

                      }
                     }
                     var disable=''
                     if(response.data[i].purchaseStatusId==4){
                      disable = 'disabled';
                     }
                     var dis ='';
                     if(response.data[i].purchaseOrderDescription!=null){
                      dis =response.data[i].purchaseOrderDescription;
                     }
                      woodenString = 
                        `<div class="input-group divContainer"  id="bWooden`+i+`"  style="padding-bottom:2px;padding-left:10px;padding-bottom:20px;">
                        <div  class="row col-lg-12 col-md-12 col-sm-12 ">
                            
                            <div   class="col">
                                <label style="padding-left:2px;">Expected Delivery Date</label>
                                <div class="input-group input-group-lg input-group-solid" >
                                                        <div class="input-group date" id="bf_datetimepicker_`+i+`" data-target-input="nearest">
                                                            <input  type="text" id="bdate`+i+`" name="bdate`+i+`" value="`+response.data[i].purchaseOrderExpectedDeliveryDate+`" class="form-control datetimepicker-input" placeholder="Select date &amp; time" data-target="#bf_datetimepicker_`+i+`">
                                                            <div class="input-group-append" data-target="#bf_datetimepicker_`+i+`" data-toggle="datetimepicker">
                                                                <span class="input-group-text">
                                                                    <i class="ki ki-calendar"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                            </div>
                            <div   class="col">
                                <label style="padding-left:2px;">Amount</label>
                                <input disabled type="text" id="bQuantity`+i+`" value="`+response.data[i].purchaseOrderAmount+`"   class="form-control"  value="" placeholder="" >
                            </div>            
                            <div   class="col">
                              <label style="padding-left:2px;">Discription</label>
                             <textarea id="bDescId`+i+`" class="form-control" rows="5" value=""  placeholder="">`+dis+`</textarea>
                            </div> 
                            <div   class="col2">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div id="icons" class="paddall" style="display: inline-block;width: 100%;">
                                        
                                   `+file+`
                                </div>
                                </div>
                            </div>
                            
                            <div id="recivedId" style="padding-top:2rem"  class="col">
                                
                                <button `+disable+` type="button" onclick="updateitem(`+response.data[i].purchaseOrderId+`,`+i+`)" id="kt_update_button`+i+`" class="btn btn-primary font-weight-bold"> Update Date</button>
                                <button `+disable+` type="button" onclick="removeItem(`+response.data[i].purchaseOrderId+`,`+i+`)" id="kt_del_button`+i+`" class="btn btn-primary font-weight-bold"> Remove</button>
                                <div class="se-pre-con" id="bload`+i+`" style="display: none;" ></div>
                        </div>
                        </div>

                        </div>  `;
                       // $('#Wooden').last().before(woodenString);
                       document.getElementById("beforeWooden").innerHTML += woodenString;

                        
                       
                    }
                    
                        $(document).ready(function() {
                          for(var i=0;i<response.data.length;i++){
                          $('#bf_datetimepicker_'+i).datetimepicker({
                            minDate: new Date().getDate(),
                           });
                          }
                        });
                       
                    } else {
                        Swal.fire({
                            text: response.errorMessage,
                            icon: "error",
                            buttonsStyling: false,
                            confirmButtonText: "Ok, got it!",
                            customClass: {
                                confirmButton: "btn font-weight-bold btn-light-primary"
                            }
                        }).then(function() {
                            KTUtil.scrollTop();
                        });
                    }
                },
                error: function(XMLHttpRequest, textStatus, errorThrown) {
                    alert(textStatus);
                },
            });
            
              
        }
        function updateitem(purchaseOrderId,i){
                  
            document.getElementById("bload"+i).style.removeProperty('display'); 
            var inquiryApproved = {
                    purchaseOrderId: purchaseOrderId,
                    purchaseOrderExpectedDeliveryDate: document.getElementById('bdate'+i).value,
                };
            const data = JSON.stringify(inquiryApproved);
             $.ajax({
                type: "Post",
                url: baseURL + '/Purchase/UpdatePurchaseOrder',
                data:data,
                headers: {
                    'Content-Type': 'application/json',
                    'Access-Control-Allow-Origin': '*',
                },
                success: function(response) {
                    console.log(response);
                    if (response.isError == false) {
                        document.getElementById("bload"+i).style.display ="none";
                        Swal.fire({
                            text:  'Expected Delivery Date Updated Successfully',
                            icon: "success",
                            buttonsStyling: false,
                            confirmButtonText: "Ok, got it!",
                            customClass: {
                                confirmButton: "btn font-weight-bold btn-light-primary"
                            }
                        });
					}
                    else {
                        Swal.fire({
                            text: response.errorMessage,
                            icon: "error",
                            buttonsStyling: false,
                            confirmButtonText: "Ok, got it!",
                            customClass: {
                                confirmButton: "btn font-weight-bold btn-light-primary"
                            }
                        }).then(function() {
                            KTUtil.scrollTop();
                        });
                    }
                },
                error: function(XMLHttpRequest, textStatus, errorThrown) {
                    alert(textStatus);
                },
            });
           
            
        }
        function removeItem(purchaseOrderId,i){
            Swal.fire({
            title: 'Are you sure?',
            text: "You won't be able to revert this!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes'
            }).then((result) => {
            if (result.isConfirmed) {
                        
            document.getElementById("bload"+i).style.removeProperty('display'); 
             $.ajax({
                type: "Post",
                url: baseURL + '/Purchase/DeletePurchaseOrder?PurchaseOrderId='+purchaseOrderId,
                headers: {
                    'Content-Type': 'application/json',
                    'Access-Control-Allow-Origin': '*',
                },
                success: function(response) {
                    console.log(response);
                    if (response.isError == false) {
                        document.getElementById("bload"+i).style.display ="none";
                        document.getElementById('bWooden'+i).remove();
					}
                    else {
                        Swal.fire({
                            text: response.errorMessage,
                            icon: "error",
                            buttonsStyling: false,
                            confirmButtonText: "Ok, got it!",
                            customClass: {
                                confirmButton: "btn font-weight-bold btn-light-primary"
                            }
                        }).then(function() {
                            KTUtil.scrollTop();
                        });
                    }
                },
                error: function(XMLHttpRequest, textStatus, errorThrown) {
                    alert(textStatus);
                },
            });
           }
            })
        }
  </script>
    <!--end::Page Scripts-->
  </body>
  <!--end::Body-->
</html>
