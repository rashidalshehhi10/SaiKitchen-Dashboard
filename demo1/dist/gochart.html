<!DOCTYPE html>
<html lang="en">
<!--begin::Head-->

<head>
	<base href="">
	<meta charset="utf-8" />
	<title>Sai Kitchen & Wardrobes</title>
	<meta name="description" content="Sai Kitchen & Wardrobes" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<link rel="canonical" href="https://keenthemes.com/metronic" />
	<!--begin::Fonts-->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />
	<!--end::Fonts-->
	<!--begin::Page Vendors Styles(used by this page)-->
	<link href="assets/plugins/custom/fullcalendar/fullcalendar.bundle.css" rel="stylesheet" type="text/css" />
	<!--end::Page Vendors Styles-->
	<!--begin::Global Theme Styles(used by all pages)-->
	<link href="assets/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
	<link href="assets/plugins/custom/prismjs/prismjs.bundle.css" rel="stylesheet" type="text/css" />
	<link href="assets/css/style.bundle.css" rel="stylesheet" type="text/css" />
	<!--end::Global Theme Styles-->
	<!--begin::Layout Themes(used by all pages)-->
	<link href="assets/css/themes/layout/header/base/light.css" rel="stylesheet" type="text/css" />
	<link href="assets/css/themes/layout/header/menu/light.css" rel="stylesheet" type="text/css" />
	<link href="assets/css/themes/layout/brand/dark.css" rel="stylesheet" type="text/css" />
	<link href="assets/css/themes/layout/aside/dark.css" rel="stylesheet" type="text/css" />
	<!--end::Layout Themes-->
	<link rel="shortcut icon" href="assets/media/logos/favicon.ico" />

	<!-- <script src="https://unpkg.com/gojs/release/go-debug.js"></script> -->
	<script src="assets/js/go-debug.js"></script>
	<!-- <script src="assets/js/pages/sai-kitchen/testchart.js" type="module"></script> -->

	<!--PWA-->
	<link rel="manifest" href="manifest.json" />
	<!-- ios support -->
	<link rel="apple-touch-icon" href="assets/media/logos/icon-72x72.png" />
	<link rel="apple-touch-icon" href="assets/media/logos/icon-96x96.png" />
	<link rel="apple-touch-icon" href="assets/media/logos/icon-128x128.png" />
	<link rel="apple-touch-icon" href="assets/media/logos/icon-144x144.png" />
	<link rel="apple-touch-icon" href="assets/media/logos/icon-152x152.png" />
	<link rel="apple-touch-icon" href="assets/media/logos/icon-192x192.png" />
	<link rel="apple-touch-icon" href="assets/media/logos/icon-384x384.png" />
	<link rel="apple-touch-icon" href="assets/media/logos/icon-512x512.png" />
	<meta name="apple-mobile-web-app-status-bar" content="#db4938" />
	<meta name="theme-color" content="#db4938" />
	<!--End:PWA-->
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA9H-Gmi17sb3cbdR1lpTNnCjcan7vV9jc&v=3.exp&sensor=false&libraries=places"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.4/dist/typeahead.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead-addresspicker/0.1.4/typeahead-addresspicker.min.js"></script>
<style>

</style>
</head>
<!--end::Head-->
<!--begin::Body-->

<body id="kt_body"
	class="header-fixed header-mobile-fixed subheader-enabled subheader-fixed aside-enabled aside-fixed aside-minimize-hoverable page-loading">
	<!--begin::Main-->
	<!--begin::Header Mobile-->
	<div id="kt_header_mobile" class="header-mobile align-items-center header-mobile-fixed">
	</div>
	<!--end::Header Mobile-->
	<div class="d-flex flex-column flex-root">
		<!--begin::Page-->
		<div class="d-flex flex-row flex-column-fluid page">
			<!--begin::Aside-->
			<div class="aside aside-left aside-fixed d-flex flex-column flex-row-auto" id="kt_aside">
			</div>
			<!--end::Aside-->
			<!--begin::Wrapper-->
			<div class="d-flex flex-column flex-row-fluid wrapper" id="kt_wrapper">
				<!--begin::Header-->
				<div id="kt_header" class="header header-fixed">
				</div>
				<!--end::Header-->
				<!--begin::Content-->
				<div class="content d-flex flex-column flex-column-fluid" id="kt_content">
					<!--begin::Subheader-->

					<!--end::Subheader-->
					<!--begin::Entry-->
					<div class="d-flex flex-column-fluid">
						<!--begin::Container-->
						<div class="container">
							<!--begin::CustomBody-->
							<!--begin::Dashboard-->
							<!--begin::Content-->
							<div class="content d-flex flex-column flex-column-fluid" id="kt_content">
								<!--begin::Subheader-->
								
								<!--end::Subheader-->
								
								<!--begin::Entry-->
								<div class="d-flex flex-column-fluid">
									<!--begin::Container-->
									<!-- <div class="container">
										<div class="card card-custom gutter-b">
											<div class="card-header">
												<div class="card-title">
													<h3 class="card-label">Simple Column Chart</h3>
												</div>
											</div>
											<div class="card-body">
												<div id="myDiagramDiv"  
												style="height: 500px;"></div>
											</div>
										</div>
				
									</div> -->
									<!--end::Container-->
								</div>

								<div class="container">
									<div class="card card-custom gutter-b">
										<div class="card-header">

											<div hidden id="A"></div>					
											<div hidden id="B"></div>
											<div hidden id="C"></div>
											<div hidden id="D"></div>
											<div hidden id="E"></div>
											<div hidden id="F"></div>
											<div hidden id="G"></div>
											<div hidden id="H"></div>
											<div hidden id="I"></div>
											<div hidden id="J"></div>
											<div hidden id="K"></div>
											<div hidden id="L"></div>
											<div hidden id="M"></div>
											<div hidden id="N"></div>
											<div hidden id="O"></div>
											<div hidden id="P"></div>

											<div class="card-title">
												<h3 class="card-label">Customer Chart</h3>
											</div>
										</div>
										<div class="card-body">
										
											<!-- <textarea hidden id="nodearrayvalues"></textarea> -->
											  <div class="md:flex flex-col md:flex-row md:min-h-screen w-full max-w-screen-xl mx-auto">
												<div id="navSide" class="flex flex-col w-full md:w-48 text-gray-700 bg-white flex-shrink-0"></div>
												<!-- * * * * * * * * * * * * * -->
												<!-- Start of GoJS sample code -->
												
												<!-- <script src="../release/go.js"></script> -->
												<script src="assets/js/go.js"></script>
												<div class="p-4 w-full">
										
											
											<div id="sample">
											<div style="width: 100%; display: flex; justify-content: space-between">
											  <!-- <div id="myPaletteDiv" style="width: 100px; margin-right: 2px; background-color: #282c34;"></div> -->
											  <div id="myDiagramDiv" style="flex-grow: 1; height: 350px; background-color: #ffffff;"></div>
											</div>

											<script>

                            var userselected=0;	
							var baseURL = 'https://backendsaikitchen.azurewebsites.net/Api/';
						 	var user=	JSON.parse(localStorage.getItem("user"));
							let graphuserId=0;
						     var  nodesArray = new Array();
							 var linksArray = new Array();
							 let AllCustomers;
							 var SumDelay;
							 let LevelTotal = ["A","B", "C", "D"];
							 $(document).ready(function () {

								const queryString = window.location.search;
								const urlParams = new URLSearchParams(queryString);

								if(urlParams.get('graphuserId')!=null)
								graphuserId = urlParams.get('graphuserId');

								let usrdata = sessionStorage.getItem('graphuserId');
								if(usrdata != null){
									graphuserId = usrdata;
								}
							 $.ajax({
								type: "Post",
								url: baseURL + '/Customer/GetCustomerGraph?userId=' + graphuserId,

								headers: {
									'Content-Type': 'application/json',
									'userId': user.data.userId,
									'userToken': user.data.userToken,
									'userRoleId': user.data.userRoles[0].userRoleId,
									'branchId': user.data.userRoles[0].branchId,
									'branchRoleId': user.data.userRoles[0].branchRoleId,
									'Access-Control-Allow-Origin': '*',
								},
								success: function(response) {
									console.log(response);
									if (response.isError == false) {
																
													nodesArray.push({
															"key": -1,
															"loc": "-200 100",
															"text": "Total Customer",
															"val": response.data.totalCustomers,
															"id":"0"
														})
	

										

								for(let i=0;i<response.data.userCount.length;i++){

										nodesArray.push({
															"key": i,
															"loc": "-200 100",
															"text":response.data.userCount[i].userName,
															"val": response.data.userCount[i].customerCount,
															"id":response.data.userCount[i].userId
														})	


											}

											SumDelay = response.data.inquiryInProgressDelay + response.data.needToFollowUpDelay + response.data.potentialCustomersDelay + response.data.needToContactDelay
											nodesArray.push({"key":"A", "loc": "0 0","text":"Delay","val": SumDelay,"id":""},
															{"key":"B", "loc":"-120 300", "text":"Customer With Inquiry","val": response.data.customerWithInquiry,"id":""},
															{"key":"C", "loc":"300 300", "text":"Customer Without Inquiry","val": response.data.customerWithOutInquiry,"id":""},
															{"key":"D", "loc":"600 300", "text":"Customer Not Yet Contacted","val": response.data.needToContact,"id":""},
															{"key":"E", "loc":"-250 500", "text":"Inquiry In Progress","val": response.data.inquiryInProgress,"id":""},
															{"key":"F", "loc":"-50 500", "text":"Inquiry Need To Follow-Up","val":response.data.needToFollowUpToday,"id":""},
															{"key":"G", "loc":"150 500", "text":"Lost Customer","val": response.data.lostCustomer,"id":""},
															{"key":"H", "loc":"400 500", "text":"potential Customer","val": response.data.potentialCustomers,"id":""},
															{"key":"I", "loc":"600 500", "text":"Unresponsive potential Customers","val": response.data.unresponsivePotentialCustomers,"id":""},
															{"key":"J", "loc":"-350 700", "text":"Delay","val": response.data.inquiryInProgressDelay,"id":""},
															{"key":"K", "loc":"-220 700", "text":"On-Going","val": response.data.inquiryInProgressongoing,"id":""},
															{"key":"L", "loc":"-50 700", "text":"Delay","val": response.data.needToFollowUpDelay,"id":""},
													        {"key":"M", "loc":"100 700", "text":"Overall Follow Up","val": response.data.needTofollow,"id":""},
															{"key":"N", "loc":"300 700", "text":"Follow Up","val": response.data.potentialCustomerFollowUp,"id":""},
															{"key":"O", "loc":"500 700", "text":"Delay","val": response.data.potentialCustomersDelay,"id":""},
															{"key":"P", "loc":"500 700", "text":"Delay","val": response.data.needToContactDelay,"id":""})


															linksArray.push({"from":-1, "to":"B", "fromPort":"B", "toPort":"T"},
																			{"from":-1, "to":"C", "fromPort":"B", "toPort":"T"},
																			{"from":-1, "to":"D", "fromPort":"B", "toPort":"T"})	
																			
																			
																			for(let j=0;j<response.data.userCount.length;j++){

																				for( let k=0; k<LevelTotal.length; k++){

																				linksArray.push({
																										"from":j,
																										"loc": "-200 100",
																										"to":LevelTotal[k],
																										"fromPort":"B",
																										"toPort":"T"
																									})	

																								}


																						}	

																	
															linksArray.push({"from":"B", "to":"E", "fromPort":"B", "toPort":"T"},
																			{"from":"B", "to":"F", "fromPort":"B", "toPort":"T"},
																			{"from":"C", "to":"G", "fromPort":"B", "toPort":"T"},
																			{"from":"C", "to":"H", "fromPort":"B", "toPort":"T"},
																			{"from":"C", "to":"I", "fromPort":"B", "toPort":"T"},
																			{"from":"D", "to":"P", "fromPort":"B", "toPort":"T"},
																			{"from":"E", "to":"J", "fromPort":"B", "toPort":"T"},
																			{"from":"E", "to":"K", "fromPort":"B", "toPort":"T"},
																			{"from":"F", "to":"L", "fromPort":"B", "toPort":"T"},
																			{"from":"F", "to":"M", "fromPort":"B", "toPort":"T"},															
																			{"from":"H", "to":"N", "fromPort":"B", "toPort":"T"},
																			{"from":"H", "to":"O", "fromPort":"B", "toPort":"T"},

																			/* {"from":"A", "to":"J", "fromPort":"B", "toPort":"T","color": "C"},
																			{"from":"A", "to":"L", "fromPort":"B", "toPort":"T","color": "C"},
																			{"from":"A", "to":"O", "fromPort":"B", "toPort":"T","color": "C"},
																			{"from":"A", "to":"P", "fromPort":"B", "toPort":"T","color": "C"} */
																		
																			)					
																						
																						
															
																		
															
														//	document.getElementById('nodearrayvalues').innervHTML = nodesArray;





											    var $ = go.GraphObject.make;
                                               
												var myDiagram =
												$(go.Diagram, "myDiagramDiv",
													{ // enable Ctrl-Z to undo and Ctrl-Y to redo
													"undoManager.isEnabled": true
													,layout: $(go.LayeredDigraphLayout,{ direction :90, columnSpacing: 10, setsPortSpots: true })
													});



													function nodeStyle() {
												  return [
													// The Node.location comes from the "loc" property of the node data,
													// converted by the Point.parse static method.
													// If the Node.location is changed, it updates the "loc" property of the node data,
													// converting back using the Point.stringify static method.
													new go.Binding("location", "loc", go.Point.parse).makeTwoWay(go.Point.stringify),
													{
													  // the Node.location is at the center of each node
													  locationSpot: go.Spot.Right
													}
												  ];
												}



												// define a simple Node template
												myDiagram.nodeTemplate =
												$(go.Node, "Horizontal",
												nodeStyle(),
													// the entire node will have a light-blue background
													   { // the Node.location point will be at the center of each node
														locationSpot: go.Spot.Left
														},
														   new go.Binding("location", "loc"),
													{ background: "#755043" },
													
													$(go.TextBlock,
													"Default Text",  // the initial value for TextBlock.text
													// some room around the text, a larger font, and a white stroke:
													{ margin: 3, maxSize: new go.Size(85, NaN),wrap: go.TextBlock.WrapFit, stroke: "white",font: "bold 10px sans-serif" },
													// TextBlock.text is data bound to the "name" property of the model data
													new go.Binding("text", "text")),
													$(go.TextBlock,
													// Pictures should normally have an explicit width and height.
													// This picture has a red background, only visible when there is no source set
													// or when the image is partially transparent.
													{ margin: 10, width: 25,  height: 25,    verticalAlignment: go.Spot.Center, textAlign: "center", stroke: "white", background: "#755043" ,font: "bold 14px sans-serif" },
													// Picture.source is data bound to the "source" attribute of the model data
													new go.Binding("text", "val")),
													{
														click: function(e, obj) { // obj === node
															
															
															myDiagram.model.commit(function(m) {  // m === model

																	//var node = myDiagram.findNodeForKey("17");
																if(obj.part.data.id !="") 
																		{ 
																	       //	window.location.replace("testchart.html?graphuserId="+obj.part.data.id);
																									
                            
																		   SetValues(obj.part.data.id)
                                                                           sessionStorage.setItem('graphuserId', obj.part.data.id);
																		   // destroy fiter session
														m.set(myDiagram.findNodeForKey("A").data, "val", document.getElementById("A").value);
														m.set(myDiagram.findNodeForKey("B").data, "val", document.getElementById("B").value);
														m.set(myDiagram.findNodeForKey("C").data, "val", document.getElementById("C").value);
														m.set(myDiagram.findNodeForKey("D").data, "val", document.getElementById("D").value);
														m.set(myDiagram.findNodeForKey("E").data, "val", document.getElementById("E").value);
														m.set(myDiagram.findNodeForKey("F").data, "val", document.getElementById("F").value);
														m.set(myDiagram.findNodeForKey("G").data, "val", document.getElementById("G").value);
														m.set(myDiagram.findNodeForKey("H").data, "val", document.getElementById("H").value);
														m.set(myDiagram.findNodeForKey("I").data, "val", document.getElementById("I").value);
														m.set(myDiagram.findNodeForKey("J").data, "val", document.getElementById("J").value);
														m.set(myDiagram.findNodeForKey("K").data, "val", document.getElementById("K").value);
														m.set(myDiagram.findNodeForKey("L").data, "val", document.getElementById("L").value);
														m.set(myDiagram.findNodeForKey("M").data, "val", document.getElementById("M").value);
														m.set(myDiagram.findNodeForKey("N").data, "val", document.getElementById("N").value);
														m.set(myDiagram.findNodeForKey("O").data, "val", document.getElementById("O").value);
														m.set(myDiagram.findNodeForKey("P").data, "val", document.getElementById("P").value);
                                                        refreshCustomerTable(obj.part.data.id,0);
                                                        graphuserId = obj.part.data.id;
														}
														//set filter session
																	//	m.set(node.data, "val", obj.data.val);
														if(obj.part.data.key=="B"){
															refreshCustomerTable(graphuserId,1);
														}else
														if(obj.part.data.key=="C"){
															refreshCustomerTable(graphuserId,2);
														}else
														if(obj.part.data.key=="D"){
															refreshCustomerTable(graphuserId,3);
														}else
														if(obj.part.data.key=="E"){
															refreshCustomerTable(graphuserId,4);
														}else
														if(obj.part.data.key=="F"){
															refreshCustomerTable(graphuserId,5);
														}else
														if(obj.part.data.key=="G"){
															refreshCustomerTable(graphuserId,6);
														}else
														if(obj.part.data.key=="I"){
															refreshCustomerTable(graphuserId,7);
														}else
														if(obj.part.data.key=="A"){
															refreshCustomerTable(graphuserId,8);
														}else
														if(obj.part.data.key=="H"){
															refreshCustomerTable(graphuserId,9);
														}else
														if(obj.part.data.key=="K"){
															refreshCustomerTable(graphuserId,10);
														}else
														if(obj.part.data.key=="M"){
															refreshCustomerTable(graphuserId,11);
														}else
														if(obj.part.data.key=="J"){
															refreshCustomerTable(graphuserId,12);
														}else
														if(obj.part.data.key=="L"){
															refreshCustomerTable(graphuserId,13);
														}else
														if(obj.part.data.key=="O"){
															refreshCustomerTable(graphuserId,14);
														}else
														if(obj.part.data.key=="N"){
															refreshCustomerTable(graphuserId,15);
														}else
														if(obj.part.data.key=="P"){
															refreshCustomerTable(graphuserId,16);
														}
														});

														
														},
														// selectionChanged: function(part) {
														// //	alert("hello");
														// 	}
														}
													
												);

												var myColors = { "A": "red", "B": "green", "C": "red" };

												myDiagram.linkTemplate =
														$(go.Link,
															// default routing is go.Link.Normal
															// default corner is 0
															{ routing: go.Link.AvoidsNodes,
																	curve: go.Link.JumpGap,
																	corner: 5, toShortLength: 4,
																	relinkableFrom: true,
																	relinkableTo: true,
																	reshapable: true,
																	resegmentable: true },
															// the link path, a Shape
															$(go.Shape,  // the highlight shape, normally transparent
													  { isPanelMain: true, strokeWidth: 8, stroke: "transparent", name: "HIGHLIGHT" }),

													$(go.Shape,  // the link path shape
													  { isPanelMain: true,  strokeWidth: 1 },
													  new go.Binding("stroke", "isSelected", function(sel) { return sel ? "dodgerblue" : "black"; }).ofObject()),
													$(go.Shape,  // the arrowhead
													  { toArrow: "standard", strokeWidth: 0, fill: "black" }),

													  $(go.Shape,  { isPanelMain: true,  strokeWidth: 1 },
       													   new go.Binding("stroke", "color", function(c) { return myColors[c] || "blue"; })),		 
															// if we wanted an arrowhead we would also add another Shape with toArrow defined:
															// $(go.Shape, { toArrow: "Standard", stroke: null }
														);
					
												myDiagram.model = new go.GraphLinksModel(
													nodesArray, linksArray);

														// const templmap = new go.Map();
														// const dashedTemplate = $(
														// 						go.Link,
														// 							// name: 'dashedlink', back animation
														// 							$(go.Shape, { name: 'dashedLink', strokeWidth: 1, strokeDashArray: [6, 3] })
																			
														// 						);
														// 						templmap.add('dashed', dashedTemplate);
														// 						myDiagram.linkTemplateMap = templmap
															


        } else {
            Swal.fire({
                text: response.errorMessage,
                icon: "error",
                buttonsStyling: false,
                confirmButtonText: "Ok, got it!",
                customClass: {
                    confirmButton: "btn font-weight-bold btn-light-primary"
                }
            }).then(function () {
                KTUtil.scrollTop();
            });
        }
    },
    error: function(XMLHttpRequest, textStatus, errorThrown) {


        // alert(errorThrown);

        Swal.fire({
            text: 'Internet Connection Problem',
            icon: "error",
            buttonsStyling: false,
            confirmButtonText: "Ok, got it!",
            customClass: {
                confirmButton: "btn font-weight-bold btn-light-primary"
            }
        }).then(function() {
            KTUtil.scrollTop();
        });
    }
});

							 });



/////

												
											
							

							 	function SetValues(bb){
								var sumDelyValues;
								var m;
									$.ajax({
								type: "Post",
								url: baseURL + '/Customer/GetCustomerGraph?userId=' + bb,
							 	async: false, 
								headers: {
									'Content-Type': 'application/json',
									'userId': user.data.userId,
									'userToken': user.data.userToken,
									'userRoleId': user.data.userRoles[0].userRoleId,
									'branchId': user.data.userRoles[0].branchId,
									'branchRoleId': user.data.userRoles[0].branchRoleId,
									'Access-Control-Allow-Origin': '*',
								},
								success: function(response) {
									console.log(response);
									if (response.isError == false) {
									console.log(JSON.stringify(response.data))

									     sumDelyValues = response.data.needToContactDelay + response.data.potentialCustomersDelay + response.data.needToFollowUpDelay + response.data.inquiryInProgressDelay

									    document.getElementById("A").value = sumDelyValues;
										document.getElementById("B").value = response.data.customerWithInquiry;
										document.getElementById("C").value = response.data.customerWithOutInquiry;
										document.getElementById("D").value = response.data.needToContact;
										document.getElementById("E").value = response.data.inquiryInProgress;
										document.getElementById("F").value = response.data.inquiryNeedToFollowUp;
										document.getElementById("G").value = response.data.lostCustomer;
										document.getElementById("H").value = response.data.potentialCustomers;
										document.getElementById("I").value = response.data.unresponsivePotentialCustomers;

										document.getElementById("J").value = response.data.inquiryInProgressDelay;
										document.getElementById("K").value = response.data.inquiryInProgressongoing;
										document.getElementById("L").value = response.data.needToFollowUpDelay;
										document.getElementById("M").value = response.data.needTofollow;
										document.getElementById("N").value = response.data.potentialCustomerFollowUp;
										document.getElementById("O").value = response.data.potentialCustomersDelay;
										document.getElementById("P").value = response.data.needToContactDelay;



										


																							
																	
							} else {
								Swal.fire({
									text: response.errorMessage,
									icon: "error",
									buttonsStyling: false,
									confirmButtonText: "Ok, got it!",
									customClass: {
										confirmButton: "btn font-weight-bold btn-light-primary"
									}
								}).then(function () {
									KTUtil.scrollTop();
								});
							}
						},
						error: function(XMLHttpRequest, textStatus, errorThrown) {


							// alert(errorThrown);

							Swal.fire({
								text: 'Internet Connection Problem',
								icon: "error",
								buttonsStyling: false,
								confirmButtonText: "Ok, got it!",
								customClass: {
									confirmButton: "btn font-weight-bold btn-light-primary"
								}
							}).then(function() {
								KTUtil.scrollTop();
							});
						}
					});

	


								 }
													



											</script>
											
											<!-- <button onclick="printDiagram()">Print Diagram Using SVG</button> -->
											</div>
											<link href='https://fonts.googleapis.com/css?family=Lato:300,400,700&swap' rel='stylesheet' type='text/css'>
												</div>
												<!-- * * * * * * * * * * * * * -->
												<!--  End of GoJS sample code  -->
											  </div>
										</div>
									</div>
			                     <!--begin::Card-->
										<div class="card card-custom">
											<!--begin::Header-->
											<div class="card-header flex-wrap border-0 pt-6 pb-0">
												<div class="card-title">
													<h3 class="card-label">Customer Management
														<!-- <span class="d-block text-muted pt-2 font-size-sm">User
															management made easy</span></h3> -->
												</div>
												<div class="card-toolbar" id="btnNewCustomer">
													<!--begin::Dropdown-->
													<div class="dropdown dropdown-inline mr-2">
														<button type="button"
															class="btn btn-light-primary font-weight-bolder dropdown-toggle"
															data-toggle="dropdown" aria-haspopup="true"
															aria-expanded="false">
															<span class="svg-icon svg-icon-md">
																<!--begin::Svg Icon | path:assets/media/svg/icons/Design/PenAndRuller.svg-->
																<svg xmlns="http://www.w3.org/2000/svg"
																	xmlns:xlink="http://www.w3.org/1999/xlink"
																	width="24px" height="24px" viewBox="0 0 24 24"
																	version="1.1">
																	<g stroke="none" stroke-width="1" fill="none"
																		fill-rule="evenodd">
																		<rect x="0" y="0" width="24" height="24" />
																		<path
																			d="M3,16 L5,16 C5.55228475,16 6,15.5522847 6,15 C6,14.4477153 5.55228475,14 5,14 L3,14 L3,12 L5,12 C5.55228475,12 6,11.5522847 6,11 C6,10.4477153 5.55228475,10 5,10 L3,10 L3,8 L5,8 C5.55228475,8 6,7.55228475 6,7 C6,6.44771525 5.55228475,6 5,6 L3,6 L3,4 C3,3.44771525 3.44771525,3 4,3 L10,3 C10.5522847,3 11,3.44771525 11,4 L11,19 C11,19.5522847 10.5522847,20 10,20 L4,20 C3.44771525,20 3,19.5522847 3,19 L3,16 Z"
																			fill="#000000" opacity="0.3" />
																		<path
																			d="M16,3 L19,3 C20.1045695,3 21,3.8954305 21,5 L21,15.2485298 C21,15.7329761 20.8241635,16.200956 20.5051534,16.565539 L17.8762883,19.5699562 C17.6944473,19.7777745 17.378566,19.7988332 17.1707477,19.6169922 C17.1540423,19.602375 17.1383289,19.5866616 17.1237117,19.5699562 L14.4948466,16.565539 C14.1758365,16.200956 14,15.7329761 14,15.2485298 L14,5 C14,3.8954305 14.8954305,3 16,3 Z"
																			fill="#000000" />
																	</g>
																</svg>
																<!--end::Svg Icon-->
															</span>Export</button>
														<!--begin::Dropdown Menu-->
														<div class="dropdown-menu dropdown-menu-sm dropdown-menu-right">
															<!--begin::Navigation-->
															<ul class="navi flex-column navi-hover py-2">
																<li
																	class="navi-header font-weight-bolder text-uppercase font-size-sm text-primary pb-2">
																	Choose an option:</li>
																<li class="navi-item">
																	<a href="#" class="navi-link">
																		<span class="navi-icon">
																			<i class="la la-print"></i>
																		</span>
																		<span class="navi-text">Print</span>
																	</a>
																</li>
																<li class="navi-item">
																	<a href="#" class="navi-link">
																		<span class="navi-icon">
																			<i class="la la-copy"></i>
																		</span>
																		<span class="navi-text">Copy</span>
																	</a>
																</li>
																<li class="navi-item">
																	<a href="#" class="navi-link" name="btnExcelExport" id="btnExcelExport">
																		<span class="navi-icon">
																			<i class="la la-file-excel-o"></i>
																		</span>
																		<span class="navi-text">Excel</span>
																	</a>
																</li>
																<li class="navi-item">
																	<a href="#" class="navi-link">
																		<span class="navi-icon">
																			<i class="la la-file-text-o"></i>
																		</span>
																		<span class="navi-text">CSV</span>
																	</a>
																</li>
																<li class="navi-item">
																	<a href="#" class="navi-link " id="export_pdf">
																		<span class="navi-icon">
																			<i class="la la-file-pdf-o"></i>
																		</span>
																		<span class="navi-text">PDF</span>
																	</a>
																</li>
															</ul>
															<!--end::Navigation-->
														</div>
														<!--end::Dropdown Menu-->
													</div>
													<!--end::Dropdown-->
													<!--begin::Button-->
													<!-- <button type="button" onclick="customFormReset();" data-target="#addCustomer" data-toggle="modal"
														class="btn btn-primary font-weight-bolder">
														<span class="svg-icon svg-icon-md">
															<svg xmlns="http://www.w3.org/2000/svg"
																xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
																height="24px" viewBox="0 0 24 24" version="1.1">
																<g stroke="none" stroke-width="1" fill="none"
																	fill-rule="evenodd">
																	<rect x="0" y="0" width="24" height="24" />
																	<circle fill="#000000" cx="9" cy="15" r="6" />
																	<path
																		d="M8.8012943,7.00241953 C9.83837775,5.20768121 11.7781543,4 14,4 C17.3137085,4 20,6.6862915 20,10 C20,12.2218457 18.7923188,14.1616223 16.9975805,15.1987057 C16.9991904,15.1326658 17,15.0664274 17,15 C17,10.581722 13.418278,7 9,7 C8.93357256,7 8.86733422,7.00080962 8.8012943,7.00241953 Z"
																		fill="#000000" opacity="0.3" />
																</g>
															</svg>
														</span>New Customer</button> -->
													<!--end::Button-->
												</div>
											</div>
											<!--end::Header-->
											<!--begin::Body-->
											<div class="card-body">
												<!--begin: Datatable-->
												<div class="datatable datatable-bordered datatable-head-custom"
													id="kt_datatable"></div>
												<!--end: Datatable-->
											</div>
											<!--end::Body-->
										</div>
										<!--end::Card-->
								</div>







								<!--end::Entry-->
							</div>
							<!--end::Content-->
 
							


							<!--end::Dashboard-->
							<!--end::CustomBody-->
						</div>
						<!--end::Container-->
					</div>
					<!--end::Entry-->
				</div>
				<!--end::Content-->
				<!--begin::Footer-->
				<div class="footer bg-white py-4 d-flex flex-lg-column" id="kt_footer">
				</div>
				<!--end::Footer-->
			</div>
			<!--end::Wrapper-->
		</div>
		<!--end::Page-->
	</div>
	<!--end::Main-->
	<!-- begin::User Panel-->
	<div id="kt_quick_user" class="offcanvas offcanvas-right p-10">
	</div>
	<!-- end::User Panel-->

	<!--begin::Quick Panel-->
	<div id="kt_quick_panel" class="offcanvas offcanvas-right pt-5 pb-10">
	</div>
	<!--end::Quick Panel-->
	<!--begin::Chat Panel-->
	<div class="modal modal-sticky modal-sticky-bottom-right" id="kt_chat_modal" role="dialog" data-backdrop="false">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<!--begin::Card-->
				<div class="card card-custom">
					<!--begin::Header-->
					<div class="card-header align-items-center px-4 py-3">
						<div class="text-left flex-grow-1">
							<!--begin::Dropdown Menu-->
							<div class="dropdown dropdown-inline">
								<button type="button" class="btn btn-clean btn-sm btn-icon btn-icon-md"
									data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<span class="svg-icon svg-icon-lg">
										<!--begin::Svg Icon | path:assets/media/svg/icons/Communication/Add-user.svg-->
										<svg xmlns="http://www.w3.org/2000/svg"
											xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px"
											viewBox="0 0 24 24" version="1.1">
											<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
												<polygon points="0 0 24 0 24 24 0 24" />
												<path
													d="M18,8 L16,8 C15.4477153,8 15,7.55228475 15,7 C15,6.44771525 15.4477153,6 16,6 L18,6 L18,4 C18,3.44771525 18.4477153,3 19,3 C19.5522847,3 20,3.44771525 20,4 L20,6 L22,6 C22.5522847,6 23,6.44771525 23,7 C23,7.55228475 22.5522847,8 22,8 L20,8 L20,10 C20,10.5522847 19.5522847,11 19,11 C18.4477153,11 18,10.5522847 18,10 L18,8 Z M9,11 C6.790861,11 5,9.209139 5,7 C5,4.790861 6.790861,3 9,3 C11.209139,3 13,4.790861 13,7 C13,9.209139 11.209139,11 9,11 Z"
													fill="#000000" fill-rule="nonzero" opacity="0.3" />
												<path
													d="M0.00065168429,20.1992055 C0.388258525,15.4265159 4.26191235,13 8.98334134,13 C13.7712164,13 17.7048837,15.2931929 17.9979143,20.2 C18.0095879,20.3954741 17.9979143,21 17.2466999,21 C13.541124,21 8.03472472,21 0.727502227,21 C0.476712155,21 -0.0204617505,20.45918 0.00065168429,20.1992055 Z"
													fill="#000000" fill-rule="nonzero" />
											</g>
										</svg>
										<!--end::Svg Icon-->
									</span>
								</button>
								<div class="dropdown-menu p-0 m-0 dropdown-menu-right dropdown-menu-md">
									<!--begin::Navigation-->
									<ul class="navi navi-hover py-5">
										<li class="navi-item">
											<a href="#" class="navi-link">
												<span class="navi-icon">
													<i class="flaticon2-drop"></i>
												</span>
												<span class="navi-text">New Group</span>
											</a>
										</li>
										<li class="navi-item">
											<a href="#" class="navi-link">
												<span class="navi-icon">
													<i class="flaticon2-list-3"></i>
												</span>
												<span class="navi-text">Contacts</span>
											</a>
										</li>
										<li class="navi-item">
											<a href="#" class="navi-link">
												<span class="navi-icon">
													<i class="flaticon2-rocket-1"></i>
												</span>
												<span class="navi-text">Groups</span>
												<span class="navi-link-badge">
													<span
														class="label label-light-primary label-inline font-weight-bold">new</span>
												</span>
											</a>
										</li>
										<li class="navi-item">
											<a href="#" class="navi-link">
												<span class="navi-icon">
													<i class="flaticon2-bell-2"></i>
												</span>
												<span class="navi-text">Calls</span>
											</a>
										</li>
										<li class="navi-item">
											<a href="#" class="navi-link">
												<span class="navi-icon">
													<i class="flaticon2-gear"></i>
												</span>
												<span class="navi-text">Settings</span>
											</a>
										</li>
										<li class="navi-separator my-3"></li>
										<li class="navi-item">
											<a href="#" class="navi-link">
												<span class="navi-icon">
													<i class="flaticon2-magnifier-tool"></i>
												</span>
												<span class="navi-text">Help</span>
											</a>
										</li>
										<li class="navi-item">
											<a href="#" class="navi-link">
												<span class="navi-icon">
													<i class="flaticon2-bell-2"></i>
												</span>
												<span class="navi-text">Privacy</span>
												<span class="navi-link-badge">
													<span
														class="label label-light-danger label-rounded font-weight-bold">5</span>
												</span>
											</a>
										</li>
									</ul>
									<!--end::Navigation-->
								</div>
							</div>
							<!--end::Dropdown Menu-->
						</div>
						<div class="text-center flex-grow-1">
							<div class="text-dark-75 font-weight-bold font-size-h5">Matt Pears</div>
							<div>
								<span class="label label-dot label-success"></span>
								<span class="font-weight-bold text-muted font-size-sm">Active</span>
							</div>
						</div>
						<div class="text-right flex-grow-1">
							<button type="button" class="btn btn-clean btn-sm btn-icon btn-icon-md"
								data-dismiss="modal">
								<i class="ki ki-close icon-1x"></i>
							</button>
						</div>
					</div>
					<!--end::Header-->
					<!--begin::Body-->
					<div class="card-body">
						<!--begin::Scroll-->
						<div class="scroll scroll-pull" data-height="375" data-mobile-height="300">
							<!--begin::Messages-->
							<div class="messages">
								<!--begin::Message In-->
								<div class="d-flex flex-column mb-5 align-items-start">
									<div class="d-flex align-items-center">
										<div class="symbol symbol-circle symbol-40 mr-3">
											<img alt="Pic" src="assets/media/users/300_12.jpg" />
										</div>
										<div>
											<a href="#"
												class="text-dark-75 text-hover-primary font-weight-bold font-size-h6">Matt
												Pears</a>
											<span class="text-muted font-size-sm">2 Hours</span>
										</div>
									</div>
									<div
										class="mt-2 rounded p-5 bg-light-success text-dark-50 font-weight-bold font-size-lg text-left max-w-400px">
										How likely are you to recommend our company to your friends and family?</div>
								</div>
								<!--end::Message In-->
								<!--begin::Message Out-->
								<div class="d-flex flex-column mb-5 align-items-end">
									<div class="d-flex align-items-center">
										<div>
											<span class="text-muted font-size-sm">3 minutes</span>
											<a href="#"
												class="text-dark-75 text-hover-primary font-weight-bold font-size-h6">You</a>
										</div>
										<div class="symbol symbol-circle symbol-40 ml-3">
											<img alt="Pic" src="assets/media/users/300_21.jpg" />
										</div>
									</div>
									<div
										class="mt-2 rounded p-5 bg-light-primary text-dark-50 font-weight-bold font-size-lg text-right max-w-400px">
										Hey there, we’re just writing to let you know that you’ve been subscribed to a
										repository on GitHub.</div>
								</div>
								<!--end::Message Out-->
								<!--begin::Message In-->
								<div class="d-flex flex-column mb-5 align-items-start">
									<div class="d-flex align-items-center">
										<div class="symbol symbol-circle symbol-40 mr-3">
											<img alt="Pic" src="assets/media/users/300_21.jpg" />
										</div>
										<div>
											<a href="#"
												class="text-dark-75 text-hover-primary font-weight-bold font-size-h6">Matt
												Pears</a>
											<span class="text-muted font-size-sm">40 seconds</span>
										</div>
									</div>
									<div
										class="mt-2 rounded p-5 bg-light-success text-dark-50 font-weight-bold font-size-lg text-left max-w-400px">
										Ok, Understood!</div>
								</div>
								<!--end::Message In-->
								<!--begin::Message Out-->
								<div class="d-flex flex-column mb-5 align-items-end">
									<div class="d-flex align-items-center">
										<div>
											<span class="text-muted font-size-sm">Just now</span>
											<a href="#"
												class="text-dark-75 text-hover-primary font-weight-bold font-size-h6">You</a>
										</div>
										<div class="symbol symbol-circle symbol-40 ml-3">
											<img alt="Pic" src="assets/media/users/300_21.jpg" />
										</div>
									</div>
									<div
										class="mt-2 rounded p-5 bg-light-primary text-dark-50 font-weight-bold font-size-lg text-right max-w-400px">
										You’ll receive notifications for all issues, pull requests!</div>
								</div>
								<!--end::Message Out-->
								<!--begin::Message In-->
								<div class="d-flex flex-column mb-5 align-items-start">
									<div class="d-flex align-items-center">
										<div class="symbol symbol-circle symbol-40 mr-3">
											<img alt="Pic" src="assets/media/users/300_12.jpg" />
										</div>
										<div>
											<a href="#"
												class="text-dark-75 text-hover-primary font-weight-bold font-size-h6">Matt
												Pears</a>
											<span class="text-muted font-size-sm">40 seconds</span>
										</div>
									</div>
									<div
										class="mt-2 rounded p-5 bg-light-success text-dark-50 font-weight-bold font-size-lg text-left max-w-400px">
										You can unwatch this repository immediately by clicking here:
										<a href="#">https://github.com</a></div>
								</div>
								<!--end::Message In-->
								<!--begin::Message Out-->
								<div class="d-flex flex-column mb-5 align-items-end">
									<div class="d-flex align-items-center">
										<div>
											<span class="text-muted font-size-sm">Just now</span>
											<a href="#"
												class="text-dark-75 text-hover-primary font-weight-bold font-size-h6">You</a>
										</div>
										<div class="symbol symbol-circle symbol-40 ml-3">
											<img alt="Pic" src="assets/media/users/300_21.jpg" />
										</div>
									</div>
									<div
										class="mt-2 rounded p-5 bg-light-primary text-dark-50 font-weight-bold font-size-lg text-right max-w-400px">
										Discover what students who viewed Learn Figma - UI/UX Design. Essential Training
										also viewed</div>
								</div>
								<!--end::Message Out-->
								<!--begin::Message In-->
								<div class="d-flex flex-column mb-5 align-items-start">
									<div class="d-flex align-items-center">
										<div class="symbol symbol-circle symbol-40 mr-3">
											<img alt="Pic" src="assets/media/users/300_12.jpg" />
										</div>
										<div>
											<a href="#"
												class="text-dark-75 text-hover-primary font-weight-bold font-size-h6">Matt
												Pears</a>
											<span class="text-muted font-size-sm">40 seconds</span>
										</div>
									</div>
									<div
										class="mt-2 rounded p-5 bg-light-success text-dark-50 font-weight-bold font-size-lg text-left max-w-400px">
										Most purchased Business courses during this sale!</div>
								</div>
								<!--end::Message In-->
								<!--begin::Message Out-->
								<div class="d-flex flex-column mb-5 align-items-end">
									<div class="d-flex align-items-center">
										<div>
											<span class="text-muted font-size-sm">Just now</span>
											<a href="#"
												class="text-dark-75 text-hover-primary font-weight-bold font-size-h6">You</a>
										</div>
										<div class="symbol symbol-circle symbol-40 ml-3">
											<img alt="Pic" src="assets/media/users/300_21.jpg" />
										</div>
									</div>
									<div
										class="mt-2 rounded p-5 bg-light-primary text-dark-50 font-weight-bold font-size-lg text-right max-w-400px">
										Company BBQ to celebrate the last quater achievements and goals. Food and drinks
										provided</div>
								</div>
								<!--end::Message Out-->
							</div>
							<!--end::Messages-->
						</div>
						<!--end::Scroll-->
					</div>
					<!--end::Body-->
					<!--begin::Footer-->
					<div class="card-footer align-items-center">
						<!--begin::Compose-->
						<textarea class="form-control border-0 p-0" rows="2" placeholder="Type a message"></textarea>
						<div class="d-flex align-items-center justify-content-between mt-5">
							<div class="mr-3">
								<a href="#" class="btn btn-clean btn-icon btn-md mr-1">
									<i class="flaticon2-photograph icon-lg"></i>
								</a>
								<a href="#" class="btn btn-clean btn-icon btn-md">
									<i class="flaticon2-photo-camera icon-lg"></i>
								</a>
							</div>
							<div>
								<button type="button"
									class="btn btn-primary btn-md text-uppercase font-weight-bold chat-send py-2 px-6">Send</button>
							</div>
						</div>
						<!--begin::Compose-->
					</div>
					<!--end::Footer-->
				</div>
				<!--end::Card-->
			</div>
		</div>
	</div>
	<!--end::Chat Panel-->
    <div class="modal fade" id="addCustomer" tabindex="-1" role="dialog" aria-labelledby="exampleModalSizeSm"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-xl" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">New Customer</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<i aria-hidden="true" class="ki ki-close"></i>
					</button>
				</div>
				<!--begin::Form-->
				<form class="form" id="kt_add_customer" action="" name="addCustomerform">
					<span id="customerId" style="display:none">0</span>
					<span id="customerCity" style="display:none">0</span>
					<div class="modal-body">

						<!--begin::Signin-->
						<div class="login-form">
							<div class="row">
								<div class="col-xl-5">
									<!--begin::Form group-->

									<div class="form-group">
										<label class="font-size-h6 font-weight-bolder text-dark">Name*</label>
										<div class="input-group input-group-lg input-group-solid">

											<input type="text" name="customerName" id="customerName"
												class="form-control form-control-lg form-control-solid" value=""
												placeholder="John" required>
										</div>
									</div>
									<!--end::Form group-->
									<!--begin::Form group-->

									<div class="form-group">
										<label class="font-size-h6 font-weight-bolder text-dark">Contact*</label>
										<div class="input-group input-group-lg input-group-solid">
											<div class="input-group-prepend">
												<span class="input-group-text">
													<i class="la la-phone"></i>
												</span>
											</div>
											<input type="text" name="customerContact" id="customerContact"
												class="form-control form-control-lg form-control-solid" value=""
												placeholder="971500000000" required>
										</div>
									</div>
									<!--end::Form group-->
									<!--end::Form group-->


									<div class="form-group">
										<label class="font-size-h6 font-weight-bolder text-dark">Email</label>
										<div class="input-group input-group-lg input-group-solid">
											<div class="input-group-prepend">
												<span class="input-group-text">
													<i class="la la-at"></i>
												</span>
											</div>
											<input type="text" name="customerEmail" id="customerEmail"
												class="form-control form-control-lg form-control-solid" value=""
												placeholder="abc@abc.com">
										</div>
									</div>

									<div class="form-group">
										<label class="font-size-h6 font-weight-bolder text-dark">Address</label>
										<div class="input-group input-group-lg input-group-solid">

											<input id="customerAddress"  type="text" name="customerAddress" id="customerAddress"
												class="form-control form-control-lg form-control-solid" value=""
												placeholder="abc, Dubai">
										</div>
									</div>

									<div class="form-group">
										<label class="font-size-h6 font-weight-bolder text-dark">Makani#/Map URL</label>
										<div class="input-group input-group-lg input-group-solid">

											<input type="text" name="name" id="customerNationalId"
												class="form-control form-control-lg form-control-solid" value=""
												placeholder="123 or https://www.google.com/maps">
										</div>
									</div>

                                    <div class="form-group">
										<label class="font-size-h6 font-weight-bolder text-dark">Whatsapp</label>
										<div class="input-group input-group-lg input-group-solid">
											<div class="input-group-prepend">
												<span class="input-group-text">
													<i class="la la-phone"></i>
												</span>
											</div>
											<input type="text" name="whatsapp" id="whatsapp"
												class="form-control form-control-lg form-control-solid" value=""
												placeholder="971500000000" required>
										</div>
									</div>
								</div>

								<div class="col-xl-1">
								</div>
								<div class="col-xl-5">
									<div class="form-group row">
										<label class="font-size-h6 font-weight-bolder text-dark">Contact Status*</label>
										<div class="input-group input-group-lg input-group-solid">
											<select class="form-control" id="kt_contact_status" name="contactstatus"
												class="form-control form-control-lg form-control-solid"
												style="width:100%">
											</select>
										</div>
									</div>
									<div id="nextMeetingDate" >
									<div class="form-group row">
										<label class="font-size-h6 font-weight-bolder text-dark">Next Follow-up Date</label>
										<div class="input-group input-group-lg input-group-solid">
											<div class="input-group date" id="kt_datetimepicker_1" data-target-input="nearest">
												<input type="text" id="next_meeting_date" name="next_meeting_date" class="form-control datetimepicker-input" placeholder="Select date &amp; time" data-target="#kt_datetimepicker_1">
												<div class="input-group-append" data-target="#kt_datetimepicker_1" data-toggle="datetimepicker">
													<span class="input-group-text">
														<i class="ki ki-calendar"></i>
													</span>
												</div>
											</div>
										</div>
									</div>
								</div>
									<div class="form-group row">
										<label class="font-size-h6 font-weight-bolder text-dark">Way of Finding us*</label>
										<div class="input-group input-group-lg input-group-solid">
											<select class="form-control" id="kt_wayofcontact" name="wayofcontact"
												class="form-control form-control-lg form-control-solid"
												style="width:100%">

											</select>
										</div>
									</div>

									<div class="form-group row">
										<label class="font-size-h6 font-weight-bolder text-dark">Country of
											Residence*</label>
										<div class="input-group input-group-lg input-group-solid">
											<select class="form-control" id="kt_country_of_Resdience"
												name="countryofresidence"
												class="form-control form-control-lg form-control-solid"
												style="width:100%">

											</select>
										</div>
									</div>

									<div class="form-group row">
										<label class="font-size-h6 font-weight-bolder text-dark">City of
											Residence*</label>
										<div class="input-group input-group-lg input-group-solid">
											<select class="form-control" id="kt_city_of_Resdience"
												name="cityofresidence"
												class="form-control form-control-lg form-control-solid"
												style="width:100%">

											</select>
										</div>
									</div>
									<div class="form-group row">
										<label class="font-size-h6 font-weight-bolder text-dark">Nationality*</label>
										<div class="input-group input-group-lg input-group-solid">
											<select class="form-control" id="kt_nationality" name="nationality"
												class="form-control form-control-lg form-control-solid"
												style="width:100%">

											</select>
										</div>
									</div>
									<div class="form-group row">
										<label class="font-size-h6 font-weight-bolder text-dark">Assigned To</label>
										<div class="input-group input-group-lg input-group-solid">
												<select class="form-control" id="CustomerAssignedTo" name="CustomerAssignedTo"
												class="form-control form-control-lg form-control-solid"
												style="width:100%">

											</select>
										</div>
									</div>
									

									

								</div>

								<div class="col-xl-1">
								</div>

							</div>
							
									
							<div class="form-group row col-11">
								<label class="font-size-h6 font-weight-bolder text-dark">Notes</label>
								<div class="input-group input-group-lg input-group-solid">

									<!-- <input type="text" name="customerNotes" id="customerNotes"
										class="form-control form-control-lg form-control-solid" value=""
										placeholder="Need to contact tomorrow" > -->
										<textarea   type="text" name="customerNotes" id="customerNotes" class="form-control form-control-lg form-control-solid" placeholder="Any feedback" rows="3"></textarea>
                                         
								</div>
							</div>
						</div>
						<!--end::Signin-->
					</div>
					<div class="modal-footer">
						<button type="button" onclick="
						document.getElementById('customerId').innerHTML = '0';" class="btn btn-light-primary font-weight-bold"
							data-dismiss="modal">Close</button>
						<button type="submit" id="kt_add_customer_button"
							class="btn btn-primary font-weight-bold">Add</button>
					</div>

				</form>
				<!--end::Form-->
			</div>
		</div>
	</div>
	<!--Inquiry Model customer-->
	<div class="modal fade" id="inquires" tabindex="-1" role="dialog" aria-labelledby="exampleModalSizeSm" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Inquires List</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<i aria-hidden="true" class="ki ki-close"></i>
					</button>
                </div>
                <!--begin::Form-->
                <form class="form" id="kt_approve_inquiry" action="" name="approveinquiryform">
                    <div class="modal-body">
                        <div class="form-group">
							<table class="table table-bordered table-hover table-checkable" id="kt_datatableInquiry">
								<thead>
								   <tr>
									  <th>ID</th>
									  <th>Status</th>
									  <th>Latest Comment</th>
									  <th>Customer Name</th>
									  <th>Managed By</th>
									  <th>Workscope</th>
									  <th>Code</th>
									  <th>Description</th>
									  <th>Start Date</th>
									  <th>End Date</th>
									  <th>Measurement Provided By Customer</th>
									  <th>Measurement Schedule Date</th>
									  <th>Measurement Assign To</th>
									  <th>Measurement Added Date</th>
									  <th>Design Provided By Customer</th>
									  <th>Design Schedule Date</th>
									  <th>Design Assign To</th>
									  <th>Design Added Date</th>
									  <th>Quotation Schedule Date</th>
									  <th>Quotation Added Date</th>

									  <th>Customer Code</th>
									  <th>Customer Contact</th>
									  <th>Customer Email</th>
									  <th>Contact Status</th>
									  <th>Next Follow-up Date</th>
									  <th>Customer Notes</th>
									  <th>Building Address</th>
									  <th>Building Makani Map</th>
									  <th>Building Type Of Unit</th>
									  <th>Building Condition</th>
									  <th>Building Floor</th>
									  <th>Building Re-construction</th>
									  <th>Building Occupied</th>
									  <th>Comment Added Date</th>
									  <th>Factory Name</th>
									  
									  <th>Escalation Requested By</th>
									  <th>Escalation Requested On</th> 
									  <th>Actions</th>
								   </tr>
								</thead>
							 </table>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button"  class="btn btn-light-primary font-weight-bold" data-dismiss="modal">Close</button>
                    </div>
                </form>
                <!--end::Form-->
            </div>
        </div>
    </div>
	<!--begin::Scrolltop-->
	<div class="modal fade" id="InquiryComment" tabindex="-1" role="dialog" aria-labelledby="exampleModalSizeSm" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-xl" role="document">
		   <div class="modal-content">
			  <div class="modal-header">
				 <h5 class="modal-title" id="exampleModalLabel">Add Comment</h5>
				 <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				 <i aria-hidden="true" class="ki ki-close"></i>
				 </button>
			  </div>
			  <!--begin::Form-->
			  <form class="form" id="kt_inq_comment" action="" name="addcomment">
				 <div class="modal-body">
					<!-- <div class="form-group">
					   <label id="oldComment" style="font-size: 14px;"  class=""></label>
					   
					</div> -->
					<span id="inquiryWorkscopeId" style="display:none">0</span>

					<div class="form-group">
					   <label class="">Add Comment*</label>
					   <div class="input-group input-group-lg input-group-solid">
						  <textarea style="border:1px solid #E8E4E4 !important;font-size: 14px;"  type="text" id="inqtxtComment" name="inqtxtComment" class="form-control" placeholder="" rows="7"></textarea>
					   </div>
					</div>
				   
				  <div class="table-responsive">
					<table  class="table table-striped table-bordered">
					   <label class="font-size-h6 font-weight-bolder text-dark">Old Comments</label>
					   <thead>
						 <tr>
						   <th scope="col">Comment</th>
						   <th scope="col">Status</th>
						   <th scope="col">Added By</th>
						   <th scope="col">Created Date</th>
						 </tr>
					   </thead>
					   <tbody id="bodyoftable">
					   </tbody>
					 </table>
				  </div>

				 </div>
				 <div class="modal-footer">
					<button type="button"  class="btn btn-light-primary font-weight-bold" data-dismiss="modal" data-toggle="modal" data-target="#customerpop">Follow-up</button>
					<button type="button"  class="btn btn-light-primary font-weight-bold" data-dismiss="modal">Close</button>
					<button type="submit"  id="kt_comment_button"  class="btn btn-primary font-weight-bold">Add</button>
				 </div>
			  </form>
			  <!--end::Form-->
		   </div>
		</div>
	 </div>

	 <div class="modal fade" id="managedby" tabindex="-1" role="dialog" aria-labelledby="exampleModalSizeSm" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal" role="document">
		   <div class="modal-content">
			  <div class="modal-header">
				 <h5 class="modal-title" id="examplemanagedby">Change Inquiry Managed By</h5>
				 <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				 <i aria-hidden="true" class="ki ki-close"></i>
				 </button>
			  </div>
			  <!--begin::Form-->
			  <form class="form" id="kt_managedby" action="" name="kt_managedby">
				 <div class="modal-body">
					<div class="form-group row">
					   <div class="col-lg-12 mb-lg-0 mb-12">
						  <label class="">Managed By</label>
						  <div class="input-group input-group-lg input-group-solid">
							 <select class="form-control" id="kt_selectmanagedby" name="kt_selectmanagedby" class="form-control form-control-lg form-control-solid" style="width:50%">
							 </select>
						  </div>
					   </div>
					</div>
				 </div>
				 <div class="modal-footer">
					<button type="button"  class="btn btn-light-primary font-weight-bold" data-dismiss="modal">Close</button>
					<button type="button" id="kt_managedby_button" class="btn btn-primary font-weight-bold">Update</button>
				 </div>
			  </form>
			  <!--end::Form-->
		   </div>
		</div>
		</div>

	 <div class="modal fade" id="customerpop" tabindex="-1" role="dialog" aria-labelledby="exampleModalSizeSm" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal" role="document">
		   <div class="modal-content">
			  <div class="modal-header">
				 <h5 class="modal-title" id="examplecustomer">Follow Up</h5>
				 <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				 <i aria-hidden="true" class="ki ki-close"></i>
				 </button>
			  </div>
			  <!--begin::Form-->
			  <form class="form" id="kt_customerform" action="" name="kt_customerform">
				 <div class="modal-body">
					<div class="form-group row">
								<label class="font-size-h6 font-weight-bolder text-dark">Contact Status*</label>
								<div class="input-group input-group-lg input-group-solid">
								   <select class="form-control" id="kt_follow_status" name="contactfollowstatus"
									  class="form-control form-control-lg form-control-solid"
									  style="width:100%">
								   </select>
								</div>
				 </div>
				 <div class="form-group row">
								<label class="font-size-h6 font-weight-bolder text-dark">Next Follow-up Date</label>
								<div class="input-group input-group-lg input-group-solid">
								   <div class="input-group date" id="kt_datetimepicker_cus" data-target-input="nearest">
									  <input type="text" id="next_follow_date" name="next_follow_date" class="form-control datetimepicker-input" placeholder="Select date &amp; time" data-target="#kt_datetimepicker_cus">
									  <div class="input-group-append" data-target="#kt_datetimepicker_cus" data-toggle="datetimepicker">
										 <span class="input-group-text">
											<i class="ki ki-calendar"></i>
										 </span>
									  </div>
								   </div>
								</div>
				  </div>
				 <div class="form-group row">
						  <label class="">Add Comment*</label>
						  <div class="input-group input-group-lg input-group-solid">
							 <textarea style="border:1px solid #E8E4E4 !important;font-size: 14px;"  type="text" id="custxtComment" name="custxtComment" class="form-control" placeholder="" rows="7"></textarea>
						  </div>
					   </div>
				 
				 </div>
				 <div class="modal-footer">
				   
					<button type="button"  class="btn btn-light-primary font-weight-bold" data-dismiss="modal">Close</button>
					<button type="submit" id="kt_customer_button" class="btn btn-primary font-weight-bold">Add</button>
				 </div>
			  </form>
			  <!--end::Form-->
		   </div>
		</div>
		</div>

		<div class="modal fade" id="Requestforescalation" tabindex="-1" role="dialog" aria-labelledby="exampleModalSizeSm" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered " role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Request For Escalation</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<i aria-hidden="true" class="ki ki-close"></i>
						</button>
					</div>
					<!--begin::Form-->
					<form class="form" id="kt_escalation" action="" name="escalationform">
					   <span id="customerEscalationId" style="display:none">0</span>
						<div class="modal-body">
						   
							<div class="form-group row" style="padding-left:25px ;">
								<label class="">Are you sure to request for escalation?</label>
								
							</div>
						</div>
						<div class="modal-footer">
							<button type="button"  class="btn btn-light-primary font-weight-bold" data-dismiss="modal">No</button>
							<button type="submit" id="kt_escalation_button" class="btn btn-primary font-weight-bold">Yes</button>
						</div>
					</form>
					<!--end::Form-->
				</div>
			</div>
		</div>

		<div class="modal fade" id="Approveescalation" tabindex="-1" role="dialog" aria-labelledby="exampleModalSizeSm" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered " role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Approve Escalation</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<i aria-hidden="true" class="ki ki-close"></i>
						</button>
					</div>
					<!--begin::Form-->
					<form class="form" id="kt_approveescalation" action="" name="approveescalationform">
					   <span id="customerApproveEscalationId" style="display:none">0</span>
						<div class="modal-body">
						   
							<div class="form-group row" style="padding-left:25px ;">
								<label class="">Are you sure to approve escalation?</label>
								
							</div>
						</div>
						<div class="modal-footer">
							<button type="button"  class="btn btn-light-primary font-weight-bold" data-dismiss="modal">No</button>
							<button type="submit" id="kt_approveescalation_button" class="btn btn-primary font-weight-bold">Approve</button>
						</div>
					</form>
					<!--end::Form-->
				</div>
			</div>
		</div>

		<div class="modal fade" id="Rervertescalation" tabindex="-1" role="dialog" aria-labelledby="exampleModalSizeSm" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered " role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Revert Escalation</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<i aria-hidden="true" class="ki ki-close"></i>
						</button>
					</div>
					<!--begin::Form-->
					<form class="form" id="kt_revertescalation" action="" name="revertescalationform">
					   <span id="customerRevertEscalationId" style="display:none">0</span>
						<div class="modal-body">
						   
							<div class="form-group row" style="padding-left:25px ;">
								<label class="">Are you sure to revert escalation?</label>
								
							</div>
						</div>
						<div class="modal-footer">
							<button type="button"  class="btn btn-light-primary font-weight-bold" data-dismiss="modal">No</button>
							<button type="submit" id="kt_revertescalation_button" class="btn btn-primary font-weight-bold">Revert</button>
						</div>
					</form>
					<!--end::Form-->
				</div>
			</div>
		</div>

	<div id="kt_scrolltop" class="scrolltop">
	</div>
	<!--end::Scrolltop-->
	<!-- <script src="assets/js/pages/sai-kitchen/layout.js" type="module"></script> -->
	<script>
		var HOST_URL = "https://preview.keenthemes.com/metronic/theme/html/tools/preview";
		function divclick(id){
			//document.getElementById("12345").style.removeProperty('background-color');
			document.getElementById("12345").classList.remove("bg-danger");
			document.getElementById("12345").style.removeProperty('background-color');
			document.getElementById("12345").style.backgroundColor  = '#8950FC !important';
			setTimeout(alert('Hello'), 5000);
			document.getElementById("12345").classList.add("bg-danger");
		   
		}
		function sleep(ms) {
			return new Promise(
				resolve => setTimeout(resolve, ms)
			);
		}
	</script>
	<!--begin::Global Config(global config for global JS scripts)-->
	<script>
		var KTAppSettings = {
			"breakpoints": {
				"sm": 576,
				"md": 768,
				"lg": 992,
				"xl": 1200,
				"xxl": 1400
			},
			"colors": {
				"theme": {
					"base": {
						"white": "#ffffff",
						"primary": "#3699FF",
						"secondary": "#E5EAEE",
						"success": "#1BC5BD",
						"info": "#8950FC",
						"warning": "#FFA800",
						"danger": "#F64E60",
						"light": "#E4E6EF",
						"dark": "#181C32"
					},
					"light": {
						"white": "#ffffff",
						"primary": "#E1F0FF",
						"secondary": "#EBEDF3",
						"success": "#C9F7F5",
						"info": "#EEE5FF",
						"warning": "#FFF4DE",
						"danger": "#FFE2E5",
						"light": "#F3F6F9",
						"dark": "#D6D6E0"
					},
					"inverse": {
						"white": "#ffffff",
						"primary": "#ffffff",
						"secondary": "#3F4254",
						"success": "#ffffff",
						"info": "#ffffff",
						"warning": "#ffffff",
						"danger": "#ffffff",
						"light": "#464E5F",
						"dark": "#ffffff"
					}
				},
				"gray": {
					"gray-100": "#F3F6F9",
					"gray-200": "#EBEDF3",
					"gray-300": "#E4E6EF",
					"gray-400": "#D1D3E0",
					"gray-500": "#B5B5C3",
					"gray-600": "#7E8299",
					"gray-700": "#5E6278",
					"gray-800": "#3F4254",
					"gray-900": "#181C32"
				}
			},
			"font-family": "Poppins"
		};
	</script>
	<!--end::Global Config-->
	<!--begin::Global Theme Bundle(used by all pages)-->
	<script src="assets/plugins/global/plugins.bundle.js"></script>
	<script src="assets/plugins/custom/prismjs/prismjs.bundle.js"></script>
	<script src="assets/js/scripts.bundle.js"></script>
	<!--end::Global Theme Bundle-->
	<!--begin::Page Vendors(used by this page)-->
	<script src="assets/plugins/custom/fullcalendar/fullcalendar.bundle.js"></script>
	<!--end::Page Vendors-->
	<!--begin::Page Scripts(used by this page)-->
	<script src="assets/js/pages/widgets.js"></script>
	<!--end::Page Scripts-->
	<!-- The core Firebase JS SDK is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-app.js"></script>

	<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
	<script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-analytics.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.3.2/firebase-messaging.js"></script>
	<script src="assets/js/pages/sai-kitchen/firebase.js" type="module"></script>


	<script src="assets/plugins/custom/datatables/datatables.bundle.js"></script>
	
    <!--begin::Page Scripts(used by this page)-->
    <script src="assets/js/pages/crud/forms/widgets/bootstrap-datetimepicker.js"></script>
    <!--end::Page Scripts-->

	<script src="assets/js/pages/sai-kitchen/base.js" type="module"></script>

	<!--begin::Page Scripts(used by this page)-->
	 <script src="assets/js/pages/sai-kitchen/gochart.js" type="module"></script> 
	<!--end::Page Scripts-->

	<!--begin::Page Scripts(used by this page)-->
	<script src="assets/js/pages/sai-kitchen/dropdown.js"></script>
	<!--end::Page Scripts-->

	<script>
		// import {
		// 	baseURL
		// } from './assets/js/pages/sai-kitchen/constant.js';
		// alert('hi ' + baseURL);
		var baseURL = 'https://backendsaikitchen.azurewebsites.net/Api/';
		var user=	JSON.parse(localStorage.getItem("user"));

$( "#kt_contact_status" ).change(function () {    
    var today  = new Date();
    var hours = new Date();
    $("#next_meeting_date").val(today.toLocaleDateString()+" "+hours.toLocaleTimeString(navigator.language, {hour: '2-digit', minute:'2-digit'}));
	$("#next_meeting_date").prop('required',true);
	/* if($('#kt_contact_status').val()=="1" || $('#kt_contact_status').val()=="2"){
         $("#nextMeetingDate").hide();
         document.getElementById('next_meeting_date').value = "";
	$("#next_meeting_date").prop('required',false);
	}else{
		$("#nextMeetingDate").show();
		$("#next_meeting_date").prop('required',true);
	} */
});
$( "#kt_follow_status" ).change(function () {    
    var today  = new Date();
    var hours = new Date();
    $("#next_follow_date").val(today.toLocaleDateString()+" "+hours.toLocaleTimeString(navigator.language, {hour: '2-digit', minute:'2-digit'}));
	$("#next_follow_date").prop('required',true);
});  

	

   
    
	

		function selectAllCheckbox(element) {
			//    element.checked = !element.checked;
			var markedCheckbox = document.getElementsByName('permissionCheckbox');
			for (var checkbox of markedCheckbox) {

				checkbox.checked = element.checked;
			}
		}

		function toggleCheckbox(element) {
			//    element.checked = !element.checked;
			// var markedCheckbox = document.getElementsByName('selectAll');
			// for (var checkbox of markedCheckbox) {

			// 	checkbox.checked = false;
			// }
		}


		// 	document.getElementById('btn').onclick = function() {  
		//   var markedCheckbox = document.getElementsByName('pl');  
		//   for (var checkbox of markedCheckbox) {  
		//     if (checkbox.checked)  
		//       document.body.append(checkbox.value + ' ');  
		//   }  
		// }  
	</script>


	</script>


	<script>
		if (Notification.permission === "denied") {
			Swal.fire({
				title: 'Allow Notification?',
				text: "You won't be able to revert this!",
				icon: 'warning',
				showCancelButton: true,
				confirmButtonColor: '#3085d6',
				cancelButtonColor: '#d33',
				confirmButtonText: 'Ok!'
			}).then((result) => {
				if (result.isConfirmed) {
					notifyMe();
				}
			});
		}


		function notifyMe() {
			// Let's check if the browser supports notifications
			if (!("Notification" in window)) {
				alert("This browser does not support desktop notification");
			}

			// Let's check whether notification permissions have already been granted
			else if (Notification.permission === "granted") {
				// If it's okay let's create a notification
				var notification = new Notification("Hi there!");
				registerServiceWorker();
			}

			// Otherwise, we need to ask the user for permission
			else if (Notification.permission !== "denied") {
				Notification.requestPermission().then(function (permission) {
					// If the user accepts, let's create a notification
					if (permission === "granted") {
						var notification = new Notification("Hi there!");
					}
				});
			}

			// At last, if the user has denied notifications, and you
			// want to be respectful there is no need to bother them any more.
		}
		var customerPermission;
	var login = localStorage.getItem("user");
    if (login !== null) {
        user = JSON.parse(login);
        console.log(user);
        permissions = user.data.userRoles[0].branchRole.permissionRoles;
        console.log(permissions);
        for (var i = 0; i < permissions.length; i++) {
            if (permissions[i].permissionId == 5) {
                customerPermission = permissions[i].permissionLevelId;
                console.log(customerPermission);
            }
        }
        if(customerPermission==null){
            window.location.replace("index.html");
            }

          }
    function refreshCustomerTable(fuserId,filter){
		$('#kt_datatable').KTDatatable('destroy');
		var KTAppsUsersListDatatable = function() {
    // Private functions

    // basic demo
    var _demo = function() {
        datatable = $('#kt_datatable').KTDatatable({
            // datasource definition
            dom: 'Bfrtip',
            buttons: [
                'copyHtml5',
                'excelHtml5',
                'csvHtml5',
                'pdfHtml5'
            ],
            data: {

                type: 'remote',
                source: {
                    read: {
                        url: baseURL + '/Customer/GetCustomerGraphOfBranch?userId=' + parseInt(fuserId) +"&filter="+filter,
                        headers: {
                            'Content-Type': 'application/json',
                            'userId': user.data.userId,
                            'userToken': user.data.userToken,
                            'userRoleId': user.data.userRoles[0].userRoleId,
                            'branchId': user.data.userRoles[0].branchId,
                            'branchRoleId': user.data.userRoles[0].branchRoleId,
                            'Access-Control-Allow-Origin': '*',
                        },
                    },
                },
                pageSize: 10, // display 20 records per page
               // serverPaging: true,
                serverFiltering: false,
                serverSorting: false,
            },

            // layout definition
            layout: {
                scroll: true, // enable/disable datatable scroll both horizontal and vertical when needed.
                footer: false, // display/hide footer
            },

            // column sorting
            sortable: true,

            pagination: true,
            stateSave: true,
            processing: true,
            serverSide: false,
            search: {
                input: $('#kt_subheader_search_form'),
                delay: 0,
                key: 'generalSearch'
            },

            // columns definition
            columns: [{
                    field: 'CustomerId',
                    title: '#',
                    sortable: 'asc',
                    width: 40,
                    type: 'number',
                    selector: false,
                    textAlign: 'left',
                    template: function(data) {
                        customerData = data;
                        console.log(customerData);
                                return '<span class="font-weight-bolder">' + data.customerId + '</span>';

                    }
                },

                {
                    field: 'Code',
                    title: 'Code',
                    autoHide: true,
                    // type: 'date',
                    // format: 'MM/DD/YYYY',
                    template: function(data) {
                        var output = '';

                        // var status = {
                        // 	1: {'title': 'Paid', 'class': ' label-light-primary'},
                        // 	2: {'title': 'Approved', 'class': ' label-light-danger'},
                        // 	3: {'title': 'Pending', 'class': ' label-light-primary'},
                        // 	4: {'title': 'Rejected', 'class': ' label-light-success'}
                        // };
                        // var index = KTUtil.getRandomInt(1, 4);
                        if (data.code !== null) {
                            output += '<div class="font-weight-bolder text-primary mb-0">' + data.code + '</div>';
                            // output += '<div class="text-muted">' + status[index].title + '</div>';
                        }
                        return output;
                    },
                }, {
                    field: 'CustomerName',
                    title: 'name',
                    width: 250,
                    template: function(data) {
                        // var number = KTUtil.getRandomInt(1, 14);
                        // var user_img = '100_' + number + '.jpg';

                        var output = '';
                        // if (number > 8) {
                        // 	output = '<div class="d-flex align-items-center">\
                        // 		<div class="symbol symbol-40 symbol-sm flex-shrink-0">\
                        // 			<img class="" src="assets/media/users/' + user_img + '" alt="photo">\
                        // 		</div>\
                        // 		<div class="ml-4">\
                        // 			<div class="text-dark-75 font-weight-bolder font-size-lg mb-0">' + data.CompanyAgent + '</div>\
                        // 			<a href="#" class="text-muted font-weight-bold text-hover-primary">' + data.CompanyEmail + '</a>\
                        // 		</div>\
                        // 	</div>';
                        // }
                        // else {
                        var stateNo = KTUtil.getRandomInt(0, 7);
                        var states = [
                            'success',
                            'primary',
                            'danger',
                            'success',
                            'warning',
                            'dark',
                            'primary',
                            'info'
                        ];
                        var state = states[stateNo];

                        output = '<div class="d-flex align-items-center">\
								<div class="symbol symbol-40 symbol-light-' + state + ' flex-shrink-0">\
									<span class="symbol-label font-size-h4 font-weight-bold">' + data.customerName.substring(0, 1) + '</span>\
								</div>\
								<div class="ml-4">\
									<div class="text-dark-75 font-weight-bolder font-size-lg mb-0">' + data.customerName + '</div>\
									<a href="javascript:;" class="text-muted font-weight-bold text-hover-primary">' + data.customerEmail + '</a>\
								</div>\
							</div>';
                        // }

                        return output;
                    }
                }, {
                    field: 'Phone',
                    title: 'Contact',
                    autoHide: false,
                    // type: 'date',
                    // format: 'MM/DD/YYYY',
                    template: function(data) {
                        var output = '';

                        // var status = {
                        // 	1: {'title': 'Paid', 'class': ' label-light-primary'},
                        // 	2: {'title': 'Approved', 'class': ' label-light-danger'},
                        // 	3: {'title': 'Pending', 'class': ' label-light-primary'},
                        // 	4: {'title': 'Rejected', 'class': ' label-light-success'}
                        // };
                        // var index = KTUtil.getRandomInt(1, 4);

                        output += '<div class="font-weight-bolder text-primary mb-0">' + data.customerContact + '</div>';
                        // output += '<div class="text-muted">' + status[index].title + '</div>';

                        return output;
                    },
                },{
                    field: 'TotalNoOfInquiries',
                    title: 'Total Inquiries',
                    autoHide: true,
                    // overflow: 'visible',
                    // callback function support for column rendering
                    template: function(data) {
                       // if(data.totalNoOfInquiries==0)
                       //    data.totalNoOfInquiries ='No Inquiries';
                        //if(data.totalNoOfInquiries!=0)
                        //   return '<span class="label label-lg font-weight-bold  label-inline">' +data.totalNoOfInquiries + '</span>';
                       // else
                           return '<span class="label label-lg font-weight-bold  label-inline">'+data.totalNoOfInquiries+'</span>';

                    },
                },{
                    field: 'AddedOn',
                    title: 'Added On',
                    autoHide: false,
                    template: function(data) {
                        var output = '';

                        output += '<div class="font-weight-bold text-muted">' + data.addedOn + '</div>';

                        return output;
                    }
                }
                ,  {
                    field: 'Actions',
                    title: 'Actions',
                    sortable: false,
                    //  width: 180 ,
                    // overflow: 'visible',
                    autoHide: false,
                    template: function(data) {
              
                        if (customerPermission >= 3) {
                            var action = '\
<button type="button"  onclick="getCustomerById(\'' + baseURL + '\',\'' + data.customerId + '\');"  class="btn btn-sm btn-default btn-text-primary btn-hover-primary btn-icon mr-2" title="Edit details">\
			<span class="svg-icon svg-icon-md">\
				<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">\
					<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\
						<rect x="0" y="0" width="24" height="24"/>\
						<path d="M12.2674799,18.2323597 L12.0084872,5.45852451 C12.0004303,5.06114792 12.1504154,4.6768183 12.4255037,4.38993949 L15.0030167,1.70195304 L17.5910752,4.40093695 C17.8599071,4.6812911 18.0095067,5.05499603 18.0083938,5.44341307 L17.9718262,18.2062508 C17.9694575,19.0329966 17.2985816,19.701953 16.4718324,19.701953 L13.7671717,19.701953 C12.9505952,19.701953 12.2840328,19.0487684 12.2674799,18.2323597 Z" fill="#000000" fill-rule="nonzero" transform="translate(14.701953, 10.701953) rotate(-135.000000) translate(-14.701953, -10.701953) "/>\
						<path d="M12.9,2 C13.4522847,2 13.9,2.44771525 13.9,3 C13.9,3.55228475 13.4522847,4 12.9,4 L6,4 C4.8954305,4 4,4.8954305 4,6 L4,18 C4,19.1045695 4.8954305,20 6,20 L18,20 C19.1045695,20 20,19.1045695 20,18 L20,13 C20,12.4477153 20.4477153,12 21,12 C21.5522847,12 22,12.4477153 22,13 L22,18 C22,20.209139 20.209139,22 18,22 L6,22 C3.790861,22 2,20.209139 2,18 L2,6 C2,3.790861 3.790861,2 6,2 L12.9,2 Z" fill="#000000" fill-rule="nonzero" opacity="0.3"/>\
					</g>\
				</svg>\
			</span>\
		</button>\
		';
        //                     if (customerPermission >= 5) {
        //                         action += '\
		// 	<button type="button"  onclick="deleteCustomerById(\'' + baseURL + '\',\'' + data.customerId + '\');"  class="btn btn-sm btn-default btn-text-primary btn-hover-primary btn-icon" title="Delete">\
		// 	<span class="svg-icon svg-icon-md">\
		// 		<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">\
		// 			<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\
		// 				<rect x="0" y="0" width="24" height="24"/>\
		// 				<path d="M6,8 L6,20.5 C6,21.3284271 6.67157288,22 7.5,22 L16.5,22 C17.3284271,22 18,21.3284271 18,20.5 L18,8 L6,8 Z" fill="#000000" fill-rule="nonzero"/>\
		// 				<path d="M14,4.5 L14,4 C14,3.44771525 13.5522847,3 13,3 L11,3 C10.4477153,3 10,3.44771525 10,4 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z" fill="#000000" opacity="0.3"/>\
		// 			</g>\
		// 		</svg>\
		// 	</span>\
		// </button>\
		// ';
        //                     }
                            if(data.totalNoOfInquiries !="No Inquiries"){
                                action += '\
                                <button type="button" onclick="showInquiry(\'' + data.customerId + '\')" name="' + data.customerId + '"   class="btn btn-sm btn-default btn-text-primary btn-hover-primary btn-icon" title="Show Inquires">\
                                <span class="svg-icon svg-icon-md">\
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-list" viewBox="0 0 16 16">\
                                <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"></path>\
                                <path d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"></path>\
                            </svg>\
                                </span>\
                            </button>\
                            ';
                            }
                                  if (customerPermission == 4) {
                                                            if (data.isEscalationRequested!==true)
                                                             {
                                                        
                                                                    action += `
                                                                    <a type="button" onclick="setCustomerEscalationId(` + data.customerId + `)" data-toggle="modal" data-target="#Requestforescalation" class="btn btn-sm btn-default btn-text-primary btn-hover-primary btn-icon"  style="margin:2px" title="Request For Escalation">
                                                                    <span class="svg-icon svg-icon-md">\
                                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16">
                                                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                                                    <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>
                                                                    </svg>
                                                                    </span>\
                                                                    </a>  
                                                                `; 
                                                                }
                                                             }


             if (customerPermission >= 5) {    

                    if (data.isEscalationRequested==true){
                      
                            action += `
                            <a type="button" onclick="setCustomerApproveEscalationId(` + data.customerId + `)" data-toggle="modal" data-target="#Approveescalation" class="btn btn-sm btn-default btn-text-primary btn-hover-primary btn-icon"  style="margin:2px" title="Approve Escalation">
                            <span class="svg-icon svg-icon-md">\
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-hand-thumbs-up" viewBox="0 0 16 16">
                            <path d="M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.144 2.144 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a9.84 9.84 0 0 0-.443.05 9.365 9.365 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111L8.864.046zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a8.908 8.908 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.224 2.224 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.866.866 0 0 1-.121.416c-.165.288-.503.56-1.066.56z"/>
                            </svg>
                            </span>\
                            </a>  
                        `; 
                       

                       
                           
                                action += `
                                <a type="button" onclick="setCustomerRevertEscalationId(` + data.customerId + `)" data-toggle="modal" data-target="#Rervertescalation" class="btn btn-sm btn-default btn-text-primary btn-hover-primary btn-icon"  style="margin:2px" title="Revert Escalation">
                                <span class="svg-icon svg-icon-md">\
                                <i class="fa fa-undo" aria-hidden="true"></i>
                                </a>  
                            `; 
                            }

                        }

                        action += `
                        <a type="button"   href="`+window.location.origin+`/addinquiry.html?customerContact=` + data.customerContact + `"  class="btn btn-sm btn-default btn-text-primary btn-hover-primary btn-icon"  style="margin:2px" title="Add Inquiry">
                        <span class="svg-icon svg-icon-md">\
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-plus" viewBox="0 0 16 16">
                        <path d="M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z"/>
                        <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>
                        </svg>
                        </a>  
                    `;


                            
                            return action;
                        } else {
                            return `<span></span>`;
                        }
                    },
                }, {
                    field: 'Country',
                    title: 'Country',
                    autoHide: true,
                    template: function(data) {
                        var output = '';

                        output += '<div class="font-weight-bolder font-size-lg mb-0">' + data.customerCountry + '</div>';
                        output += '<div class="font-weight-bold text-muted">Nationality: ' + data.customerNationality + '</div>';

                        return output;
                    }
                }, {
                    field: 'WayofContact',
                    title: 'Way of Contact',
                    autoHide: true,
                    // callback function support for column rendering
                    template: function(data) {
                        var status = {
                            1: {
                                'title': 'Direct',
                                'class': ' label-light-primary'
                            },
                            2: {
                                'title': 'Google',
                                'class': ' label-light-danger'
                            },
                            3: {
                                'title': 'Facebook',
                                'class': ' label-light-primary'
                            },
                            4: {
                                'title': 'Linkedin',
                                'class': ' label-light-success'
                            },
                            5: {
                                'title': 'Twitter',
                                'class': ' label-light-info'
                            },
                            6: {
                                'title': 'Friends recommended',
                                'class': ' label-light-primary'
                            },
                            7: {
                                'title': 'Website',
                                'class': ' label-light-danger'
                            },
                            8: {
                                'title': 'Mobile App',
                                'class': ' label-light-primary'
                            },
                            9: {
                                'title': 'Owner Reference',
                                'class': ' label-light-info'
                            },
                            10: {
                                'title': 'Instagram',
                                'class': ' label-light-primary'
                            },
                            11: {
                                'title': 'Other',
                                'class': ' label-light-info'
                            }
                        };
                        return '<span class="label label-lg font-weight-bold ' + status[data.wayofContactId].class + ' label-inline">' + status[data.wayofContactId].title + '</span>';

                    },
                },
                {
                    field: 'Address',
                    title: 'Address',
                    autoHide: true,
                    // type: 'date',
                    // format: 'MM/DD/YYYY',
                    template: function(data) {
                        var output = '';

                        // var status = {
                        // 	1: {'title': 'Paid', 'class': ' label-light-primary'},
                        // 	2: {'title': 'Approved', 'class': ' label-light-danger'},
                        // 	3: {'title': 'Pending', 'class': ' label-light-primary'},
                        // 	4: {'title': 'Rejected', 'class': ' label-light-success'}
                        // };
                        // var index = KTUtil.getRandomInt(1, 4);
                        if (data.customerAddress !== null) {
                            output += '<div class="font-weight-bolder text-primary mb-0">' + data.customerAddress + '</div>';
                            // output += '<div class="text-muted">' + status[index].title + '</div>';
                        }
                        return output;
                    },
                },
                {
                    field: 'City',
                    title: 'City',
                    autoHide: true,
                    // type: 'date',
                    // format: 'MM/DD/YYYY',
                    template: function(data) {
                        var output = '';

                        // var status = {
                        // 	1: {'title': 'Paid', 'class': ' label-light-primary'},
                        // 	2: {'title': 'Approved', 'class': ' label-light-danger'},
                        // 	3: {'title': 'Pending', 'class': ' label-light-primary'},
                        // 	4: {'title': 'Rejected', 'class': ' label-light-success'}
                        // };
                        // var index = KTUtil.getRandomInt(1, 4);
                        if (data.customerCity !== null) {
                            output += '<div class="font-weight-bolder text-primary mb-0">' + data.customerCity + '</div>';
                            // output += '<div class="text-muted">' + status[index].title + '</div>';
                        }
                        return output;
                    },
                }, {
                    field: 'ContactStatus',
                    title: 'Contact Status',
                    autoHide: true,
                    // overflow: 'visible',
                    // callback function support for column rendering
                    template: function(data) {
                        var status = {
                            1: {
                                'title': 'Contacted',
                                'class': ' label-light-primary'
                            },
                            2: {
                                'title': 'Need to Contact',
                                'class': ' label-light-danger'
                            },
                            3: {
                                'title': 'Need to Follow-up',
                                'class': ' label-light-danger'
                            },
                            4: {
                                'title': 'Not Responding',
                                'class': ' label-light-danger'
                            }
                        };
                        return '<span class="label label-lg font-weight-bold ' + status[data.contactStatusId].class + ' label-inline">' +data.contactStatus + '</span>';

                    },
                }, {
                    field: 'CustomerNextMeetingDate',
                    title: 'Next Follow-up Date',
                    autoHide: true,
                    // type: 'date',
                    // format: 'MM/DD/YYYY',
                    template: function(data) {
                        var output = '';

                        // var status = {
                        // 	1: {'title': 'Paid', 'class': ' label-light-primary'},
                        // 	2: {'title': 'Approved', 'class': ' label-light-danger'},
                        // 	3: {'title': 'Pending', 'class': ' label-light-primary'},
                        // 	4: {'title': 'Rejected', 'class': ' label-light-success'}
                        // };
                        // var index = KTUtil.getRandomInt(1, 4);
                        if (data.customerNextMeetingDate !== null) {
                            output += '<div class="font-weight-bolder text-primary mb-0">' + data.customerNextMeetingDate + '</div>';
                            // output += '<div class="text-muted">' + status[index].title + '</div>';
                        }
                        return output;
                    },
                }, {
                    field: 'CustomerNotes',
                    title: 'Customer Notes',
                    autoHide: true,
                    // type: 'date',
                    // format: 'MM/DD/YYYY',
                    template: function(data) {
                        var output = '';

                        // var status = {
                        // 	1: {'title': 'Paid', 'class': ' label-light-primary'},
                        // 	2: {'title': 'Approved', 'class': ' label-light-danger'},
                        // 	3: {'title': 'Pending', 'class': ' label-light-primary'},
                        // 	4: {'title': 'Rejected', 'class': ' label-light-success'}
                        // };
                        // var index = KTUtil.getRandomInt(1, 4);
                        if (data.customerNotes !== null) {
                            output += '<div class="font-weight-bolder text-primary mb-0">' + data.customerNotes + '</div>';
                            // output += '<div class="text-muted">' + status[index].title + '</div>';
                        }
                        return output;
                    },
                },
                {
                    field: 'EmiratesId',
                    title: 'Makani#/Map URL',
                    autoHide: true,
                    // type: 'date',
                    // format: 'MM/DD/YYYY',
                    template: function(data) {
                        var output = '';

                        // var status = {
                        // 	1: {'title': 'Paid', 'class': ' label-light-primary'},
                        // 	2: {'title': 'Approved', 'class': ' label-light-danger'},
                        // 	3: {'title': 'Pending', 'class': ' label-light-primary'},
                        // 	4: {'title': 'Rejected', 'class': ' label-light-success'}
                        // };
                        // var index = KTUtil.getRandomInt(1, 4);
                        if (data.customerNationalId !== null) {
                            output += '<div class="font-weight-bolder text-primary mb-0"><a href='+data.customerNationalId+' target="_blank">' + data.customerNationalId + '</a></div>';
                            // output += '<div class="text-muted">' + status[index].title + '</div>';
                        }
                        return output;
                    },
                }, {
                    field: 'AddedBy',
                    title: 'Managed By',
                    autoHide: true,
                    template: function(data) {
                        var output = '';

                        output += '<div class="font-weight-bold text-muted">' + data.userName + '</div>';

                        return output;
                    },
                },{
                    field: 'customerAssignedToName',
                    title: 'Assigned To',
                    autoHide: true,
                    template: function(data) {
                        var output = '';

                        output += '<div class="font-weight-bold text-muted">' + data.customerAssignedToName + '</div>';

                        return output;
                    }
                }
                ,{
                    field: 'customerAssignedByName',
                    title: 'Assigned By',
                    autoHide: true,
                    template: function(data) {
                        var output = '';

                        output += '<div class="font-weight-bold text-muted">' + data.customerAssignedByName + '</div>';

                        return output;
                    }
                }
                ,{
                    field: 'customerAssignedDate',
                    title: 'Assigned On',
                    autoHide: true,
                    template: function(data) {
                        var output = '';

                        output += '<div class="font-weight-bold text-muted">' + data.customerAssignedDate + '</div>';

                        return output;
                    }
                }
                ,{
                    field: 'escalationRequestedByName',
                    title: 'Escalation Requested By:',
                    autoHide: true,
                    template: function(data) {
                        var output = '';
                        if (data.escalationRequestedByName !== null) {
                        output += '<div class="font-weight-bold text-muted">' + data.escalationRequestedByName + '</div>';
                        }
                        return output;
                    }
                }
                ,{
                    field: 'escalationRequestedOn',
                    title: 'Escalation Requested On:',
                    autoHide: true,
                    template: function(data) {
                        var output = '';
                    if (data.escalationRequestedOn !== null) {
                        output += '<div class="font-weight-bold text-muted">' + data.escalationRequestedOn + '</div>';
                        }   
                        return output;
                    }
                }
                ,{
                    field: 'escalatedByName',
                    title: 'Escalation By:',
                    autoHide: true,
                    template: function(data) {
                        var output = '';
                        if (data.escalatedByName !== null) {
                        output += '<div class="font-weight-bold text-muted">' + data.escalatedByName + '</div>';
                        }
                        return output;
                    }
                }
                ,{
                    field: 'escalatedOn',
                    title: 'Escalation On:',
                    autoHide: true,
                    template: function(data) {
                        var output = '';
                    if (data.escalatedOn !== null) {
                        output += '<div class="font-weight-bold text-muted">' + data.escalatedOn + '</div>';
                        }   
                        return output;
                    }
                }
                ,{
                    field: 'isEscalationRequested',
                    title: 'is Escalation Requested:',
                    autoHide: true,
                    template: function(data) {
                        var output = '';
                  
                        output += '<div class="font-weight-bold text-muted">' + data.isEscalationRequested + '</div>';
                      
                        return output;
                    }
                }
            ],
        });
        //console.log(datatable.rows().data());
         $('#kt_subheader_search_form').on('blur', function() {
            datatable.search($(this).val().toLowerCase());
        }); 

        $('#kt_datatable_contact_statuss').on('change', function() {
            datatable.search($(this).val().toLowerCase(), 'Type');
        });

 
         
 
        $('#kt_datatable_search_status, #kt_datatable_contact_statuss').selectpicker();
        // $('#kt_datatable_search_status').selectpicker();
 /*        $("#export_pdf").on("click",(function(e){
            e.preventDefault(),
            datatable.button(2).trigger()})); */
        
    }; 



	
    return {
        // public functions
        init: function() {
            _demo();
        },
    };
    }();
	KTAppsUsersListDatatable.init();
	}

	</script>

	

<script>
	// import {
	// 	baseURL
	// } from './assets/js/pages/sai-kitchen/constant.js';
	// alert('hi ' + baseURL);
	var baseURL = 'https://backendsaikitchen.azurewebsites.net/Api/';
	var user=	JSON.parse(localStorage.getItem("user"));

$( "#kt_contact_status" ).change(function () {    
var today  = new Date();
var hours = new Date();
$("#next_meeting_date").val(today.toLocaleDateString()+" "+hours.toLocaleTimeString(navigator.language, {hour: '2-digit', minute:'2-digit'}));
$("#next_meeting_date").prop('required',true);
/* if($('#kt_contact_status').val()=="1" || $('#kt_contact_status').val()=="2"){
	 $("#nextMeetingDate").hide();
	 document.getElementById('next_meeting_date').value = "";
$("#next_meeting_date").prop('required',false);
}else{
	$("#nextMeetingDate").show();
	$("#next_meeting_date").prop('required',true);
} */
});
$( "#kt_follow_status" ).change(function () {    
var today  = new Date();
var hours = new Date();
$("#next_follow_date").val(today.toLocaleDateString()+" "+hours.toLocaleTimeString(navigator.language, {hour: '2-digit', minute:'2-digit'}));
$("#next_follow_date").prop('required',true);
});  

	function customFormReset() {
try {

document.getElementById("exampleModalLabel").innerHTML = "New Customer";
		document.getElementById("kt_add_customer_button").innerHTML = "Add";
		document.getElementById("customerId").innerHTML = '0';
		document.getElementById('customerName').value = "";
		document.getElementById('customerNotes').value = "";
		document.getElementById('next_meeting_date').value = "";
		document.getElementById('customerEmail').value = "";
		document.getElementById('customerContact').value = "";
		document.getElementById('customerAddress').value = "";
		document.getElementById('customerNationalId').value = "";
		$('#CustomerAssignedTo option:first').prop('selected',true);
		var today  = new Date();
		var hours = new Date();
		$("#next_meeting_date").val(today.toLocaleDateString()+" "+hours.toLocaleTimeString(navigator.language, {hour: '2-digit', minute:'2-digit'}));

		// $('#kt_contact_status').val(response.data.contactStatusId).change();
		// $('#kt_wayofcontact').val(response.data.wayofContactId).change();
		// $('#kt_country_of_Resdience').val(response.data.customerCountry).change();
		// $('#kt_city_of_Resdience').val(response.data.customerCity).change();
		// document.getElementById("customerCity").innerHTML = response.data.customerCity;
		// $('#kt_nationality').val(response.data.customerNationality).change();
} catch (error) {

}
	}
	let inqStatus= {
1: {
	'title': 'Measurement In-Progress',
	'class': 'label-light-primary'
},
2: {
	'title': 'Measurement Delayed',
	'class': ' label-light-danger'
},
3: {
	'title': 'Design In-Progress',
	'class': ' label-light-primary'
},
4: {
	'title': 'Design Delayed',
	'class': ' label-light-danger'
},
5: {
	'title': 'Quotation Pending',
	'class': ' label-light-primary'
},
6: {
	'title': 'Quotation Delayed',
	'class': ' label-light-danger'
},
7: {
	'title': 'Measurement Accepted',
	'class': 'label-light-success'
},
8: {
	'title': 'Measurement Rejected',
	'class': ' label-light-danger'
},
9: {
	'title': 'Measurement Waiting For Approval',
	'class': ' label-light-info'
},
10: {
	'title': 'Design Accepted',
	'class': 'label-light-success'
},
11: {
	'title': 'Design Rejected',
	'class': ' label-light-danger'
},
12: {
	'title': 'Design Waiting For Approval',
	'class': ' label-light-info'
},
13: {
	'title': 'Quotation Approved',
	'class': 'label-light-success'
},
14: {
	'title': 'Quotation Rejected',
	'class': ' label-light-danger'
},
15: {
	'title': 'Quotation Waiting For Customer Approval',
	'class': ' label-light-info'
},
16: {
	'title': 'Design Waiting For Customer Approval',
	'class': ' label-light-info'
},
17: {
	'title': 'Design Rejected By Client',
	'class': ' label-light-danger'
},
18: {
	'title': 'Technical Checklist In-Progress',
	'class': ' label-light-primary'
},
19: {
	'title': 'Technical Checklist Accepted',
	'class': ' label-light-success'
},
20: {
	'title': 'Technical Checklist Rejected',
	'class': ' label-light-danger'
},
21: {
	'title': 'Job Order Pending',
	'class': ' label-light-primary'
},
22: {
	'title': 'Job Order Created',
	'class': ' label-light-success'
},
23: {
	'title': 'Job Order Approved',
	'class': ' label-light-success'
},
24: {
	'title': 'Job Order Rejected',
	'class': 'label-light-danger'
},
25: {
	'title': 'Job Order Waiting For Approval',
	'class': 'label-light-info'
},
26: {
	'title': 'Job Order Delayed',
	'class': ' label-light-danger'
},
27: {
	'title': 'Job Order Completed',
	'class': ' label-light-success'
},
28: {
	'title': 'Delivery In-Progress',
	'class': ' label-light-primary'
},
29: {
	'title': 'Unable to Deliver',
	'class': ' label-light-danger'
},
30: {
	'title': 'Delivered',
	'class': ' label-light-success'
},
31: {
	'title': 'Waiting For Measurement Fee',
	'class': ' label-light-primary'
},
32: {
	'title': 'Waiting For Advance',
	'class': ' label-light-primary'
},
33: {
	'title': 'Waiting For BeforeDeliveryPayment',
	'class': ' label-light-primary'
},
34: {
	'title': 'Waiting For AfterDeliveryPayment',
	'class': ' label-light-primary'
},
35: {
	'title': 'Inquiry Completed',
	'class': ' label-light-success'
},
36: {
	'title': 'Measurement Assignee Pending',
	'class': ' label-light-primary'
},
37: {
	'title': 'Measurement Assignee Accepted',
	'class': 'label-light-success'
},
38: {
	'title': 'Measurement Assignee Rejected',
	'class': ' label-light-danger'
},
39: {
	'title': 'Design Assignee  Pending',
	'class': ' label-light-primary'
},
40: {
	'title': 'Design Assignee Accepted',
	'class': 'label-light-success'
},
41: {
	'title': 'Design Assignee Rejected',
	'class': ' label-light-danger'
},
42: {
	'title': 'Quotation Schedule  Pending',
	'class': ' label-light-primary'
},
43: {
	'title': 'Commerical Checklist Pending',
	'class': ' label-light-primary'
},
44: {
	'title': 'Commerical Checklist Accepted',
	'class': ' label-light-success'
},
45: {
	'title': 'Commerical Checklist Rejected',
	'class': ' label-light-danger'
},
46: {
	'title': 'Job Order Factory Approval Pending',
	'class': ' label-light-primary'
},
47: {
	'title': 'Job Order In-Progress',
	'class': ' label-light-primary'
},
48: {
	'title': 'Job Order Factory Rejected',
	'class': ' label-light-danger'
},
49: {
	'title': 'Job Order Reschedule Requested',
	'class': ' label-light-primary'
},
50: {
	'title': 'Job Order Reschedule Approved',
	'class': ' label-light-success'
},
51: {
	'title': 'Job Order Reschedule Rejected',
	'class': ' label-light-danger'
},
52: {
	'title': 'Job Order Delay Requested',
	'class': ' label-light-primary'
},
53: {
	'title': 'Job Order Ready For Installation',
	'class': ' label-light-primary'
},
54: {
	'title': 'Job Order Files In-Progress',
	'class': ' label-light-primary'
},
55: {
	'title': 'Job Order Files Delayed',
	'class': ' label-light-primary'
},
56: {
	'title': 'Design Revision Requested',
	'class': ' label-light-primary'
},
57: {
	'title': 'Quotation Waiting For Approval',
	'class': ' label-light-info'
},
58: {
	'title': 'contract Pending',
	'class': ' label-light-primary'
},
59: {
	'title': 'Contract Waiting For Customer Approval',
	'class': ' label-light-info'
},
60: {
	'title': 'Contract Approved',
	'class': ' label-light-success'
},
61: {
	'title': 'quotation Revision Requested',
	'class': ' label-light-primary'
},
62: {
	'title': 'Contract In-Progress',
	'class': ' label-light-primary'
},
63: {
	'title': 'Contract Rejected',
	'class': ' label-light-danger'
},
64: {
	'title': 'job Order Audit Pending ',
	'class': ' label-light-primary'
},
65: {
	'title': 'job Order Audit Rejected',
	'class': ' label-light-danger'
},
66: {
	'title': 'special approval pending',
	'class': ' label-light-primary'
},
67: {
	'title': 'Special approval rejected',
	'class': ' label-light-danger'
},

68: {
	'title': 'Job Order Factory Delayed',
	'class': ' label-light-danger'
},

69: {
	'title': 'Job Order Procurement Delayed',
	'class': ' label-light-danger'
},
70: {
	'title': 'Job Order Site Not Ready',
	'class': ' label-light-primary'
},
71: {
	'title': 'Job Order Design Team Delay',
	'class': ' label-light-danger'
},
72: {
	'title': 'Detailed Files Pending',
	'class': ' label-light-primary'
},
};
  function showInquiry(customerId){
	$('#kt_datatableInquiry').dataTable().fnDestroy();
	var table;
	$('#kt_datatableInquiry').hide();
	table = $('#kt_datatableInquiry').DataTable({
				responsive: true,
				// Pagination settings
				dom: `<'row'<'col-sm-12'tr>>
				<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,
				// read more: https://datatables.net/examples/basic_init/dom.html

				lengthMenu: [5, 10, 25, 50, 100, 150, 200, 250],

				pageLength: 10,
				stateSave: true,
				language: {
					'lengthMenu': 'Display _MENU_',
				},
				serverSorting: true,
				autoColumns: true,
				order: [
					[0, 'desc']
				],
				searchDelay: 0,
				processing: true,
				serverSide: false,
				ajax: {
					url:  'https://backendsaikitchen.azurewebsites.net/Api/Inquiry/GetInquiriesByCustomerId?customerId=' + customerId,
					type: 'GET',
					data: {
						// parameters for custom backend script demo
						columnsDef: [
							'inquiryId', 'status','inquiryComment','customerName','inquiryAddedBy','workscopeNames','inquiryCode', 'inquiryDescription','inquiryStartDate', 'inquiryEndDate', 'isMeasurementProvidedByCustomer', 
							'measurementScheduleDate', 'measurementAssignTo','measurementAddedOn','isDesignProvidedByCustomer','designScheduleDate', 'designAssignTo','designAddedOn','quotationScheduleDate','quotationAddedOn',
							'customerCode', 'customerContact','customerEmail','contactStatus','nextMeetingDate','customerNotes', 'buildingAddress','buildingMakaniMap', 'buildingTypeOfUnit', 'buildingCondition', 'buildingFloor', 'buildingReconstruction',
							'isOccupied', 'inquiryAddedById','commentAddedOn','factorName','noOfRevision','escalationRequestedBy','escalationRequestedOn','actions'
						],
					},
				},
				columns: [{
						data: 'inquiryId',
						autoHide: false,
					},
					{
						data: 'status',
						autoHide: false,
					},
					{
						data: 'inquiryComment',
						autoHide: false,
					},
					{
						data: 'customerName',
						autoHide: false,
					},
					{
						data: 'inquiryAddedBy',
						autoHide: false,
					},
					{
						data: 'workscopeNames',
						autoHide: false,
					},
					{
						data: 'inquiryCode',
						autoHide: false,
					},
					{
						data: 'inquiryDescription',
						autoHide: false,
					},
					{
						data: 'inquiryStartDate',
						autoHide: false,
					},
					{
						data: 'inquiryEndDate',
						autoHide: false,
					},
					 {
						data: 'isMeasurementProvidedByCustomer',
						autoHide: true,
					},
					{
						data: 'measurementScheduleDate',
						autoHide: true,
					},
					{
						data: 'measurementAssignTo',
						autoHide: true,
					},
					{
						data: 'measurementAddedOn',
						autoHide: true,
					},
					{
						data: 'isDesignProvidedByCustomer',
						autoHide: true,
					},
					{
						data: 'designScheduleDate',
						autoHide: true,
					},
					{
						data: 'designAssignTo',
						autoHide: true,
					},
					{
						data: 'designAddedOn',
						autoHide: true,
					},
					{
						data:'quotationScheduleDate',
						autoHide: true,
					},
					{
						data: 'quotationAddedOn',
						autoHide: true,
					},
				
					{
						data: 'customerCode',
						autoHide: true,
					},
					{
						data: 'customerContact',
						autoHide: true,
					},
					{
						data: 'customerEmail',
						autoHide: true,
					},
					{
						data: 'contactStatus',
						autoHide: true,
					},
					{
						data: 'nextMeetingDate',
						autoHide: true,
					},
					{
						data: 'customerNotes',
						autoHide: true,
					},
					{
						data: 'buildingAddress',
						autoHide: true,
					},
					{
						data: 'buildingMakaniMap',
						autoHide: true,
					},
					{
						data: 'buildingTypeOfUnit',
						autoHide: true,
					},
					{
						data: 'buildingCondition',
						autoHide: true,
					},
					{
						data: 'buildingFloor',
						autoHide: true,
					},
					{
						data: 'buildingReconstruction',
						autoHide: true,
					},
					{
						data: 'isOccupied',
						autoHide: true,
					},
				
					{
						data: 'commentAddedOn',
						autoHide: true,
					},
					{
						data: 'factorName',
						autoHide: true,
					},
				
					{
						data:'escalationRequestedBy',
						autoHide: true,
					},
					{
						data:'escalationRequestedOn',
						autoHide: true,
					}, 
					{
						data: 'actions',
						responsivePriority: -1
					},
				],

		/* 		initComplete: function(data, type, full, meta) {
					this.api().columns().every(function() {
						var column = this;

						switch (column.title()) {
						
							default:
								//Statements executed when none of
								//the values match the value of the expression
								var v=column.title();
							break;
							

						}
					});
				}, */

				columnDefs: [{
				targets: -1,
				title: 'Actions',
				orderable: false,
				render: function(data, type, full, meta) {
					var action = ``;
					action += `\<a  style="background-color:#734f43;margin:2px" href="`+window.location.origin+`/viewinquirystatus.html?inquiryId=` + full.inquiryId + `"     class="btn btn-sm btn-clean btn-icon" title="Inquiry Status">
					<i class="la la-ellipsis-h"></i>\
					</a>\
					`;

					if(full.inquiryAddedById==user.data.userId ||user.data.userRoles[0].branchRole.roleTypeId==1){
						var inquiryComment='';
					var txtfollow = '';
					if(full.inquiryComment != null){
					   inquiryComment =full.inquiryComment.replace(/\n\r?/g, '|||'); 
					   
					}
					if(full.customerNotes != null)
					   txtfollow =full.customerNotes.replace(/\n\r?/g, '|||');  
					action += `\<a href="javascript:;" style="background-color:#734f43;margin:2px" onclick="setInquiryWorkscopeId(` + full.inquiryId + `);setcomment('` + inquiryComment + `');getAllComments(` + full.inquiryId + `);followUp(` + full.contactStatusId + `,'` + full.nextMeetingDate + `','` + txtfollow + `')"   data-toggle="modal" data-target="#InquiryComment"  class="btn btn-sm btn-clean btn-icon" title="Add Comment">
						<i class="la la-file-text-o"></i>\
						</a>\
					`;
					action += `\<a href="javascript:;" style="background-color:#734f43;margin:2px" onclick="setInquiryWorkscopeId(` + full.inquiryId + `)"   data-toggle="modal" data-target="#managedby"  class="btn btn-sm btn-clean btn-icon" title="Change Inquiry Managed By">
						<i class="la la-user-alt"></i>\
						</a>\
					`;  

					} 

					
					return action;
				},
			},
					{
						targets: 1,
						render: function(data, type, full, meta) {

							var status = inqStatus;

							console.log(data);
							if (typeof status[data] === 'undefined') {
								return data;
							}
							return '<span style="font-size:1.0rem !important; height:80px;" class="label label-lg font-weight-bold ' + status[data].class + ' label-inline" style="background-color:white;">' + status[data].title + '</span>';

						},
					},
					/* {
						targets: 27,
						render: function(data, type, full, meta) {
						
							if (typeof data === 'undefined' || data===null || data=="") {
								return data;
							}
							return '<div class="font-weight-bolder text-primary mb-0"><a href='+data+' target="_blank">Click Here</a></div>';
						},
					}, */


				],
				"initComplete": function( settings, json ) {
					$(this).show()
				},
			});
	
		
	$('#inquires').modal('show');
  }
	// document.querySelector('#editbutton').addEventListener('click', hello);
	function getCustomerById(baseURL, customerId) {

		document.getElementById("exampleModalLabel").innerHTML = "Modify Customer";
		document.getElementById("kt_add_customer_button").innerHTML = "Modify";
		document.getElementById("customerId").innerHTML = customerId + '';


		// alert('hi ' + baseURL);
		$.ajax({
			type: "Get",
			url: baseURL + '/Customer/GetCustomerbyId?customerId=' + customerId,
			headers: {
						'Content-Type': 'application/json',
						'userId': user.data.userId,
						'userToken': user.data.userToken,
						'userRoleId': user.data.userRoles[0].userRoleId,
						'branchId': user.data.userRoles[0].branchId,
						'branchRoleId': user.data.userRoles[0].branchRoleId,
					'Access-Control-Allow-Origin': '*',
					},
			// data: data,
			success: function (response) {
				console.log(response);
				// window.location.replace("home.html");
				if (response.isError == false) {
					// sessionStorage.setItem('user', JSON.stringify(response));
					try {
					$('#addCustomer').modal('show');
					document.getElementById('customerName').value = response.data.customerName;
					document.getElementById('customerEmail').value = response.data.customerEmail;
					document.getElementById('customerContact').value = response.data.customerContact;
					document.getElementById('customerAddress').value = response.data.customerAddress;
					document.getElementById('customerNotes').value = response.data.customerNotes;	
					
					document.getElementById('customerNationalId').value = response.data.customerNationalId;
					$('#kt_contact_status').val(response.data.contactStatusId).change();
					document.getElementById('next_meeting_date').value = response.data.customerNextMeetingDate;
					$('#kt_wayofcontact').val(response.data.wayofContactId).change();
					$('#kt_country_of_Resdience').val(response.data.customerCountry).change();
					$('#kt_city_of_Resdience').val(response.data.customerCity).change();
					document.getElementById("customerCity").innerHTML = response.data.customerCity;
					$('#kt_nationality').val(response.data.customerNationality).change();
					document.getElementById('whatsapp').value =response.data.customerWhatsapp;
					$('#CustomerAssignedTo'+' option[value="'+response.data.customerAssignedTo+'"]').attr('selected',true).change();	
					} catch (error) {
						
					}

					//  document.getElementById('customerEmail').value;
					// 	customer.customerEmail = document.getElementById('customerEmail').value;
					// 	customer.customerContact = document.getElementById('customerContact').value;
					// 	customer.customerAddress = document.getElementById('customerAddress').value;
					// 	customer.customerNationalId = document.getElementById('customerNationalId').value;
					// 	customer.contactStatusId = $('#kt_contact_status').val();
					// 	customer.wayofContactId = $('#kt_wayofcontact').val();
					// 	customer.customerCountry = $('#kt_country_of_Resdience').val();
					// 	customer.customerCity = $('#kt_city_of_Resdience').val();
					// 	customer.customerNationality = $('#kt_nationality').val();

					// window.location.replace("branchrole.html");

				} else {
					Swal.fire({
						text: response.errorMessage,
						icon: "error",
						buttonsStyling: false,
						confirmButtonText: "Ok, got it!",
						customClass: {
							confirmButton: "btn font-weight-bold btn-light-primary"
						}
					}).then(function () {
						KTUtil.scrollTop();
					});
				}
			},
			error: function (XMLHttpRequest, textStatus, errorThrown) {
				// Release button
				KTUtil.btnRelease(formSubmitButton);
				// alert(errorThrown);

				Swal.fire({
					text: 'Internet Connection Problem',
					icon: "error",
					buttonsStyling: false,
					confirmButtonText: "Ok, got it!",
					customClass: {
						confirmButton: "btn font-weight-bold btn-light-primary"
					}
				}).then(function () {
					KTUtil.scrollTop();
				});
			}
		});
	}

	function setcomment(comment){
		$("#inqtxtComment").html(comment);
		var text = $("#inqtxtComment").html().replaceAll("|||","\n");
		$("#inqtxtComment").html(text);
	}
	function setCustomerEscalationId(customerId) {
		document.getElementById("customerEscalationId").innerHTML = customerId;
	
	}

	function setCustomerApproveEscalationId(customerId) {
		document.getElementById("customerApproveEscalationId").innerHTML = customerId;
	
	}

	function setCustomerRevertEscalationId(customerId) {
		document.getElementById("customerRevertEscalationId").innerHTML = customerId;
	
	}



	function deleteCustomerById(baseURL, customerId) {
		// alert('hi ' + branchRoleId);
		var data = JSON.stringify({
			customerId: customerId
		});
		Swal.fire({
			title: 'Are you sure?',
			text: "You won't be able to revert this!",
			icon: 'warning',
			showCancelButton: true,
			confirmButtonColor: '#3085d6',
			cancelButtonColor: '#d33',
			confirmButtonText: 'Yes, delete it!'
		}).then((result) => {
			if (result.isConfirmed) {
				
		$.ajax({
			type: "Post",
			url: baseURL + '/Customer/DeleteCustomer?customerId=' + customerId,
			headers: {
						'Content-Type': 'application/json',
						'userId': user.data.userId,
						'userToken': user.data.userToken,
						'userRoleId': user.data.userRoles[0].userRoleId,
						'branchId': user.data.userRoles[0].branchId,
						'branchRoleId': user.data.userRoles[0].branchRoleId,
					'Access-Control-Allow-Origin': '*',
					},
			data: data,
			success: function (response) {
				console.log(response);
				if (response.isError == false) {
					// sessionStorage.setItem('user', JSON.stringify(response));
					location.reload();

				} else {
					Swal.fire({
						text: response.errorMessage,
						icon: "error",
						buttonsStyling: false,
						confirmButtonText: "Ok, got it!",
						customClass: {
							confirmButton: "btn font-weight-bold btn-light-primary"
						}
					}).then(function () {
						KTUtil.scrollTop();
					});
				}
			},
			error: function (XMLHttpRequest, textStatus, errorThrown) {
				alert(textStatus);
			},
		});
			}
		});
	}


	function selectAllCheckbox(element) {
		//    element.checked = !element.checked;
		var markedCheckbox = document.getElementsByName('permissionCheckbox');
		for (var checkbox of markedCheckbox) {

			checkbox.checked = element.checked;
		}
	}

	function toggleCheckbox(element) {
		//    element.checked = !element.checked;
		// var markedCheckbox = document.getElementsByName('selectAll');
		// for (var checkbox of markedCheckbox) {

		// 	checkbox.checked = false;
		// }
	}


	function setInquiryWorkscopeId(inquiryWorskcopeId) {
             document.getElementById("inquiryWorkscopeId").innerHTML = inquiryWorskcopeId;
         }
		 function getAllComments(inquiryId) {

$.ajax({
    type: "post",
    url: baseURL + '/Inquiry/GetAllCommentByInquiryId?inquiryId=' + inquiryId,

    headers: {
        'Content-Type': 'application/json',
        'Access-Control-Allow-Origin': '*',
    },

    success: function(response) {
        console.log(response);
        if (response.isError == false) {

         document.getElementById('bodyoftable').innerHTML = '';
      

         if(response.data.length==0)
         {
            document.getElementById('bodyoftable').innerHTML +=
                           `<tr>
                            <td>no comments</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            </tr>`;

         }

         else 
         {
                  for(var i=0 ; i<response.data.length;i++)
                     {
                        
                              document.getElementById('bodyoftable').innerHTML +=
                                             `<tr>
                                             <td>`+response.data[i].commentDetail+`</td>
                                             <td>`+response.data[i].inquiryStatus+`</td>
                                             <td>`+response.data[i].commentAddedBy+`</td>
                                             <td>`+response.data[i].commentAddedon+`</td>
                                             </tr>`;
                     
                                    
                     }


         }

        } else {
            Swal.fire({
                text: 'Status error',
                icon: "error",
                buttonsStyling: false,
                confirmButtonText: "Ok, got it!",
                customClass: {
                    confirmButton: "btn font-weight-bold btn-light-primary"
                }
            }).then(function () {
                KTUtil.scrollTop();
            });
        }
    },
    error: function(XMLHttpRequest, textStatus, errorThrown) {

   }
});
//
}

function followUp(contactStatusId,nextMeetingDate,customerNotes){
            $('#kt_follow_status'+' option[value="'+contactStatusId+'"]').attr('selected',true).change();
            document.getElementById('next_follow_date').value = nextMeetingDate;
             //document.getElementById('custxtComment').value = customerNotes;
			 $("#custxtComment").html(customerNotes);
            var text = $("#custxtComment").html().replaceAll("|||","\n");
            $("#custxtComment").html(text);
         }
</script>
	<!--end::Page Scripts-->
	
</body>
<!--end::Body-->

</html>